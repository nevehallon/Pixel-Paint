{"version":3,"sources":["services/jwtService.ts","services/httpService.ts","services/userService.ts","common/protectedRoute.tsx","common/form.tsx","services/drawingsService.ts","services/globalListener.tsx","services/paintHelperService.ts","common/drawingComponents/paintCanvas.tsx","common/drawingComponents/drawingForm.tsx","common/drawingComponents/colorPicker.tsx","common/input.tsx","common/pageHeader.tsx","components/drawingActions/inputTextFeedback.tsx","components/drawingActions/createDrawing.tsx","components/drawingActions/editDrawing.tsx","services/favoritesContext.tsx","components/galleries/utils/use-wheel-scroll.ts","components/galleries/Card/animations.ts","components/galleries/Card/ContentPlaceholder.tsx","components/galleries/Card/Image.tsx","components/galleries/Card/quickActions.tsx","components/galleries/Card/Title.tsx","components/galleries/Card/index.tsx","components/galleries/utils/use-scroll-constraints.ts","components/galleries/CardList.tsx","components/galleries/myDrawings.tsx","components/galleries/myFavorites.tsx","components/layout/footer.tsx","components/layout/nav-bar.tsx","components/pages/about.tsx","components/pages/home.tsx","components/signAndLog/logout.tsx","components/signAndLog/painterSignup.tsx","components/signAndLog/signin.tsx","components/signAndLog/signup.tsx","App.tsx","common/publicImages.tsx","reportWebVitals.ts","index.tsx"],"names":["tokenKey","hasLocalData","localStorage","getItem","localData","JSON","parse","token","axios","defaults","headers","common","getJwt","interceptors","response","use","undefined","error","status","toast","position","autoClose","Promise","reject","get","post","put","patch","delete","getCurrentUser","jwtDecode","name","login","a","email","password","httpService","apiUrl","data","isPainter","success","setItem","stringify","logout","removeItem","getCurrentUserDetails","addFavorite","drawingNum","favorites","removeFavorite","ProtectedRoute","Component","component","render","painter","rest","currentUser","props","className","to","pathname","state","from","location","Form","schema","doSubmit","convert2image","handleSubmit","e","preventDefault","grid","dark","dataUrl","setState","errors","validate","validateProperty","value","Joi","object","obj","abortEarly","details","message","formData","forEach","path","handleChange","target","errorsCopy","errorMessage","updatedFormData","renderInput","label","type","val","onChange","disabled","this","initialGrid","size","Array","fill","map","_","i","touched","createDrawing","drawing","http","getMyDrawings","getDrawing","id","console","deleteDrawing","editDrawing","_id","GlobalListener","eventType","handler","useEffect","x","arr","event","index","window","addEventListener","removeEventListener","Detector","drawStart","newGrid","canCallBack","callback","isMouseDown","handleMouseDown","handleMouseUp","cleanup","handleTouchMove","PaintCanvas","forwardRef","ref","fillAction","currentColor","addedStyle","sqrt","Math","length","Helper","useRef","squareRefs","emitState","keycode","current","keyCode","helper","style","backgroundColor","dataset","handleFill","releasePointerCapture","pointerId","which","button","squares","focus","gridTemplateColumns","gridTemplateRows","aria-label","data-touched","onKeyDown","onPointerDown","onPointerEnter","el","element","role","tabIndex","floor","DrawingForm","gridRef","imgRef","children","border","minWidth","minHeight","width","height","toPng","margin","offsetWidth","offsetHeight","pixelRatio","skipFonts","drawingName","string","min","max","required","description","array","isSubmit","filter","currentStateIndex","canvasStateTimeline","slice","isInitial","handleChangeComplete","r","g","b","join","handleNumberChange","newNumber","resetTimeline","handleUndo","newIdex","handleRedo","handleReset","handleGridOff","hideGrid","gateKeep","createRef","root","inputProps","step","format","readOnly","htmlFor","buttonLayout","decrementButtonClassName","decrementButtonIcon","incrementButtonClassName","incrementButtonIcon","showButtons","suffix","onChange$","Subject","pipe","debounceTime","take","subscribe","rgb","match","cpStyles","color","icon","onClick","appendTo","isNaN","next","boxShadow","transform","ColorPicker","Input","useState","setValue","header","footer","lineHeight","feedback","onInput","toggleMask","autoResize","rows","PageHeader","titleText","mapRemainingToColor","mapRemainingToSpringVelocity","InputFeedback","maxLength","currentValue","charactersRemaining","controls","useAnimation","start","scale","transition","velocity","feedbackElement","motion","div","animate","display","substring","CreateDrawing","history","replace","renderPaintCanvas","renderTools","noValidate","onSubmit","renderSizePicker","renderButton","EditDrawing","mapToState","params","savedGrid","FavoritesContext","createContext","springTo","isAnimating","complete","animation","getVelocity","stiffness","damping","onUpdate","v","set","onComplete","stop","debouncedSpringTo","debounce","useWheelScroll","y","constraints","onWheelCallback","isActive","useDomEvent","currentY","newY","deltaY","startedAnimation","isWithinBounds","top","bottom","mix","cancel","passive","openSpring","closeSpring","openAnimation","zIndex","closeAnimation","transitionEnd","ContentPlaceholder","memo","painterInfo","Image","isSelected","src","layout","img","alt","loading","onError","useStyles","makeStyles","theme","createStyles","speedDial","spacing","right","SpeedDialTooltipOpen","emitOpen","emitClose","emitFavoriteAction","drawingNumber","basePath","classes","open","setOpen","useContext","useClipboard","setCopied","handleClose","actions","handleAction","push","imageSrc","includes","dataurl","filename","document","createElement","href","setAttribute","click","download","OpenInNew","image","appendChild","w","write","outerHTML","SpeedDial","ariaLabel","direction","SpeedDialIcon","onClose","onOpen","action","SpeedDialAction","tooltipOpen","tooltipPlacement","tooltipTitle","Title","title","Card","onDelete","onFavoriteAction","isOpen","useHistory","useMotionValue","output","opacity","useTransform","cardRef","measureConstraints","setConstraints","viewportHeight","innerHeight","contentTop","offsetTop","contentHeight","scrollableViewport","useScrollConstraints","checkSwipeToDismiss","yValue","go","containerRef","pointerEvents","duration","delay","_dragY","drag","dragConstraints","onDragEnd","Backdrop","initial","transformOrigin","prev","List","drawings","emitDelete","useRouteMatch","key","isAdd","FavoritesList","MyDrawings","handleDeleteDrawing","getData","handleFavorite","Provider","dNum","MyFavorites","drawingNumList","toString","log","Footer","Date","getFullYear","Navbar","user","items","command","originalEvent","template","item","options","aria-haspopup","fontSize","end","placeholder","model","About","Home","Logout","PainterSignup","tlds","allow","body","setTimeout","split","Signin","clear","Signup","App","padding","exact","PublicImages","justifyContent","alignContent","reportWebVitals","onPerfEntry","Function","then","getCLS","getFCP","getFID","getLCP","getTTFB","PrimeReact","ripple","basename","process","getElementById"],"mappings":"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","file":"static/js/main.1e543b53.chunk.js","sourcesContent":["const tokenKey = 'localData';\r\n\r\nexport default (): string => {\r\n  const hasLocalData = localStorage.getItem(tokenKey);\r\n\r\n  const localData =\r\n    hasLocalData && JSON.parse(localStorage.getItem(tokenKey) ?? 'null');\r\n  return hasLocalData && localData.token;\r\n};\r\n","import { toast } from 'react-toastify';\n\nimport axios from 'axios';\n\nimport getJwt from './jwtService';\n\naxios.defaults.headers.common['x-auth-token'] = getJwt && getJwt();\n\naxios.interceptors.response.use(undefined, (error) => {\n  if (error.response && error.response.status >= 403) {\n    const errorMessage = 'We are sorry, but unexpected error occurred :(';\n    toast.error(errorMessage, {\n      position: 'top-center',\n      autoClose: 3000,\n    });\n  }\n  return Promise.reject(error);\n});\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  patch: axios.patch,\n  delete: axios.delete,\n};\n","import { toast } from 'react-toastify';\n\nimport { AxiosResponse } from 'axios';\nimport jwtDecode from 'jwt-decode';\n\nimport { apiUrl } from '../config.json';\nimport { LoginArgs } from '../interfaces/loginArgs';\nimport { UserDetails } from '../interfaces/UserDetails';\nimport httpService from './httpService';\n\nconst tokenKey = 'localData';\n\nexport function getCurrentUser(): { [x: string]: any } | null {\n  try {\n    const localData = JSON.parse(localStorage.getItem(tokenKey) || 'null');\n    return { ...jwtDecode(localData.token), name: localData.name };\n  } catch (error) {\n    return null;\n  }\n}\n\nexport async function login({ email, password }: LoginArgs): Promise<void> {\n  const { data } = await httpService.post(`${apiUrl}/auth`, {\n    email,\n    password,\n  });\n  if (!data.isPainter) {\n    toast.success(`Logging in...`, {\n      position: 'top-center',\n      autoClose: 2000,\n    });\n  }\n\n  localStorage.setItem(tokenKey, JSON.stringify(data));\n}\n\nexport async function logout(): Promise<void> {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getDrawingsFromAllUsers(\n  drawingNumList: any[]\n): Promise<AxiosResponse<any>> {\n  return httpService.get(\n    `${apiUrl}/users/drawings?numbers=${drawingNumList.toString()}`\n  );\n}\n\nexport function getUserDetailsByUserId(\n  userId: string\n): Promise<AxiosResponse<UserDetails>> {\n  return httpService.get(`${apiUrl}/users/${userId}`);\n}\n\nexport function getCurrentUserDetails(): Promise<AxiosResponse<UserDetails>> {\n  return httpService.get(`${apiUrl}/users/me`);\n}\n\nexport function addFavorite(\n  drawingNum: number | string\n): Promise<AxiosResponse<UserDetails>> {\n  return httpService.patch(`${apiUrl}/users/add-favorite`, {\n    favorites: [drawingNum],\n  });\n}\n\nexport function removeFavorite(\n  drawingNum: number | string\n): Promise<AxiosResponse<UserDetails>> {\n  return httpService.patch(`${apiUrl}/users/delete-favorite`, {\n    favorites: [drawingNum],\n  });\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  login,\n  logout,\n  getCurrentUser,\n};\n","import { Redirect, Route } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport { ProtectedRouteArgs } from '../interfaces/PotectedRouteArgs';\nimport { getCurrentUser } from '../services/userService';\n\nconst ProtectedRoute = ({\n  component: Component,\n  render,\n  painter,\n  ...rest\n}: ProtectedRouteArgs): any => {\n  const currentUser = getCurrentUser();\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (!currentUser || (painter && !currentUser.painter)) {\n          toast.error(\n            <p className=\"text-center\">\n              Sorry, you need a `painter` account to access this page. <br />\n              Feel free to create your own and start creating!\n            </p>,\n            {\n              position: 'top-center',\n              autoClose: 4000,\n            }\n          );\n          return (\n            <Redirect\n              to={{\n                pathname: '/sign-in',\n                state: { from: props.location },\n              }}\n            />\n          );\n        }\n        return Component ? <Component {...props} /> : render?.(props) || null;\n      }}\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport React, { Component, FormEvent } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport Joi from 'joi';\r\nimport { Button } from 'primereact/button';\r\n\r\nimport { Input } from '.';\r\nimport { GenericObjectProps } from '../interfaces/genericObjectProps';\r\n\r\nclass Form extends Component<{ [x: string]: any }, { [x: string]: any }> {\r\n  schema!: { [key: string]: Joi.StringSchema | Joi.ArraySchema };\r\n\r\n  doSubmit!: () => Promise<void>;\r\n\r\n  convert2image!: () => Promise<string>;\r\n\r\n  handleSubmit = async (e: FormEvent<HTMLFormElement>): Promise<void> => {\r\n    e.preventDefault();\r\n    if (this.state.grid) {\r\n      toast.dark('One moment please', {\r\n        position: 'top-center',\r\n        autoClose: 2500,\r\n      });\r\n      const dataUrl = await this.convert2image();\r\n      // eslint-disable-next-line react/no-unused-state\r\n      this.setState({ dataUrl });\r\n    }\r\n\r\n    const errors = this.validate();\r\n\r\n    this.setState({ errors: errors || {} });\r\n\r\n    if (errors !== null && errors?.grid) {\r\n      toast.error('Canvas can not be blank', {\r\n        position: 'top-center',\r\n        autoClose: 2500,\r\n      });\r\n    }\r\n\r\n    if (!errors) this.doSubmit();\r\n  };\r\n\r\n  validateProperty = (name: string, value: string): string | null => {\r\n    const schema = Joi.object({ [name]: this.schema[name] })!;\r\n\r\n    const obj = { [name]: value };\r\n\r\n    const { error } = schema.validate(obj, {\r\n      abortEarly: false,\r\n    });\r\n    return error ? error.details[0].message : null;\r\n  };\r\n\r\n  validate = (): any => {\r\n    const {\r\n      state: { formData },\r\n      schema,\r\n    } = this;\r\n    const { error } = Joi.object(schema)!.validate(formData, {\r\n      abortEarly: false,\r\n    });\r\n    if (!error) return null;\r\n    const errors: { [name: string]: any } = {};\r\n    error.details.forEach(({ path, message }: any) => {\r\n      errors[path[0]] = message;\r\n    });\r\n    return errors;\r\n  };\r\n\r\n  handleChange = ({\r\n    target: { value, name },\r\n  }: React.ChangeEvent<HTMLInputElement>): void => {\r\n    const { errors, formData } = this.state;\r\n\r\n    // validate input\r\n    const errorsCopy = { ...errors } || {};\r\n    const errorMessage = this.validateProperty(name, value);\r\n\r\n    // if (errorMessage) {\r\n    errorsCopy[name] = errorMessage;\r\n    // } else {\r\n    //   delete errorsCopy[name];\r\n    // }\r\n\r\n    // formData\r\n    const updatedFormData = { ...formData };\r\n    updatedFormData[name] = value;\r\n\r\n    // update state\r\n    this.setState({ formData: updatedFormData, errors: errorsCopy });\r\n  };\r\n\r\n  renderInput = (\r\n    name: string,\r\n    label: string,\r\n    type = 'text',\r\n    { ...rest }: GenericObjectProps = { val: undefined }\r\n  ): React.ReactNode => {\r\n    const { formData, errors } = this.state;\r\n    return (\r\n      <Input\r\n        error={errors && errors[name]}\r\n        label={label}\r\n        name={name}\r\n        onChange={this.handleChange}\r\n        type={type}\r\n        value={formData[name]}\r\n        {...rest}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderButton(label = ''): React.ReactNode {\r\n    return (\r\n      <div className=\"text-center\">\r\n        <Button\r\n          className=\"btn-block p-button-outlined p-button-rounded\"\r\n          disabled={this.validate()}\r\n          label={label}\r\n          type=\"submit\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;\r\n","import { AxiosResponse } from 'axios';\r\n\r\nimport { apiUrl } from '../config.json';\r\nimport { Drawing } from '../interfaces/Drawing';\r\nimport http from './httpService';\r\n\r\nexport const initialGrid = (size = 35): { fill: string; touched: string }[] =>\r\n  Array(size ** 2)\r\n    .fill('')\r\n    .map((_, i) => ({\r\n      fill: i % 2 === 0 ? 'lightgrey' : 'white',\r\n      touched: '',\r\n    }));\r\n\r\nexport function createDrawing(drawing: Drawing): Promise<AxiosResponse<any>> {\r\n  return http.post(`${apiUrl}/drawings`, drawing);\r\n}\r\n\r\nexport function getMyDrawings(): Promise<AxiosResponse<any>> {\r\n  return http.get(`${apiUrl}/drawings/my-drawings`);\r\n}\r\n\r\nexport function getDrawing(id: string): Promise<AxiosResponse<any>> {\r\n  try {\r\n    return http.get(`${apiUrl}/drawings/${id}`);\r\n  } catch (error) {\r\n    // eslint-disable-next-line no-console\r\n    console.error(error);\r\n    return error;\r\n  }\r\n}\r\n\r\nexport function deleteDrawing(id: string): Promise<AxiosResponse<any>> {\r\n  try {\r\n    return http.delete(`${apiUrl}/drawings/${id}`);\r\n  } catch (error) {\r\n    // eslint-disable-next-line no-console\r\n    console.error(error);\r\n    return error;\r\n  }\r\n}\r\n\r\nexport function editDrawing(drawing: Drawing): Promise<AxiosResponse<any>> {\r\n  try {\r\n    const { _id, ...data } = drawing;\r\n    return http.put(`${apiUrl}/drawings/${_id}`, data);\r\n  } catch (error) {\r\n    // eslint-disable-next-line no-console\r\n    console.error(error);\r\n    return error;\r\n  }\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  initialGrid,\r\n  createDrawing,\r\n  getMyDrawings,\r\n  getDrawing,\r\n  editDrawing,\r\n  deleteDrawing,\r\n};\r\n","/* eslint-disable prefer-destructuring */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useEffect } from 'react';\r\n\r\nfunction GlobalListener({\r\n  eventType,\r\n  handler,\r\n}: {\r\n  eventType: (string | boolean)[];\r\n  handler: (((e?: any) => any) | boolean)[];\r\n}): null {\r\n  useEffect(() => {\r\n    eventType.forEach((x, i, arr) => {\r\n      let event = x;\r\n      let index = i;\r\n      if (x === true) event = arr[0];\r\n      if (handler[index] === true) index = 0;\r\n      window.addEventListener(event as any, handler[index] as any);\r\n    });\r\n\r\n    return () => {\r\n      eventType.forEach((x, i, arr) => {\r\n        let event = x;\r\n        let index = i;\r\n        if (x === true) event = arr[0];\r\n        if (handler[index] === true) index = 0;\r\n        window.removeEventListener(event as any, handler[index] as any);\r\n      });\r\n    };\r\n  }, []);\r\n  return null;\r\n}\r\n\r\nexport default GlobalListener;\r\n","class Detector {\r\n  constructor() {\r\n    window.addEventListener('pointerdown', this.handleMouseDown);\r\n    window.addEventListener('pointerup', this.handleMouseUp);\r\n  }\r\n\r\n  drawStart = false;\r\n\r\n  newGrid!: { fill: string; touched: string }[];\r\n\r\n  canCallBack = false;\r\n\r\n  callback = (): void => {};\r\n\r\n  isMouseDown = false;\r\n\r\n  handleMouseDown = (): void => {\r\n    this.isMouseDown = true;\r\n  };\r\n\r\n  handleMouseUp = (): void => {\r\n    this.isMouseDown = false;\r\n\r\n    this.callback();\r\n  };\r\n\r\n  cleanup = (): void => {\r\n    window.removeEventListener('pointerdown', this.handleMouseDown);\r\n    window.removeEventListener('pointerup', this.handleMouseUp);\r\n  };\r\n}\r\n\r\nexport default Detector;\r\n","/* eslint-disable no-nested-ternary */\r\n/* eslint-disable @typescript-eslint/no-unused-expressions */\r\nimport {\r\n  ForwardedRef,\r\n  forwardRef,\r\n  MutableRefObject,\r\n  useEffect,\r\n  useRef,\r\n} from 'react';\r\n\r\nimport Detector from '../../services/paintHelperService';\r\n\r\nfunction getCoords(index: number, length: number): string {\r\n  return `${Math.floor(index / Math.sqrt(length))},${Math.floor(\r\n    index % Math.sqrt(length)\r\n  )}`;\r\n}\r\n\r\nconst handleTouchMove = (e: TouchEvent) => {\r\n  // ? stop user from scrolling when touching the canvas\r\n  e.preventDefault();\r\n};\r\n\r\nexport interface CanvasProps {\r\n  fillAction: (grid: { fill: string; touched: string }[]) => void;\r\n  grid: { fill: string; touched: string }[];\r\n  currentColor: string;\r\n  addedStyle: {\r\n    border: string;\r\n  };\r\n}\r\n\r\nconst PaintCanvas = forwardRef(\r\n  (\r\n    { fillAction, grid, currentColor, addedStyle }: CanvasProps,\r\n    ref: ForwardedRef<any>\r\n  ): any => {\r\n    const sqrt = Math.sqrt(grid.length);\r\n    const Helper = useRef() as MutableRefObject<Detector>;\r\n    const squareRefs = useRef<any[]>([]);\r\n\r\n    const setSquareRef = (\r\n      index: number,\r\n      element: HTMLDivElement | null\r\n    ): void => {\r\n      if (index === 0) {\r\n        squareRefs.current = [];\r\n      }\r\n      squareRefs.current[index] = element;\r\n    };\r\n\r\n    const emitState = (\r\n      newGrid: CanvasProps['grid'],\r\n      e: any | Event = { type: '', keycode: 0 }\r\n    ): any => {\r\n      Helper.current.drawStart = false;\r\n      Helper.current.canCallBack = false;\r\n\r\n      if (e.type === 'keyup' && e.keyCode !== 13) {\r\n        return;\r\n      }\r\n      if (!Helper.current?.isMouseDown) {\r\n        // update parent state\r\n        fillAction(newGrid);\r\n      }\r\n    };\r\n\r\n    useEffect(() => {\r\n      Helper.current = new Detector();\r\n      const helper = Helper.current;\r\n      helper.callback = () => {\r\n        helper.newGrid = squareRefs.current.map((x: any) => ({\r\n          fill: x.style.backgroundColor,\r\n          touched: x.dataset.touched,\r\n        }));\r\n\r\n        if (helper.canCallBack) {\r\n          emitState(helper.newGrid);\r\n        }\r\n      };\r\n      (ref as any).current.addEventListener('touchmove', handleTouchMove);\r\n\r\n      return () => {\r\n        helper.callback = () => {};\r\n        helper.cleanup();\r\n        // (ref as any).current.removeEventListener('touchmove', handleTouchMove);\r\n      };\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const handleFill = (i: number, e: any | Event): any => {\r\n      if (e.type === 'pointerdown') {\r\n        e.target.releasePointerCapture(e.pointerId);\r\n        // stop right click\r\n        if (e.which === 3 || e.button === 2) return;\r\n\r\n        Helper.current.drawStart = true;\r\n      }\r\n      const squares = squareRefs.current;\r\n      if (e.type === 'keydown') {\r\n        // allow user to navigate the grid with arrow keys\r\n        if (e.keyCode > 36 && e.keyCode < 41) {\r\n          e.keyCode === 37\r\n            ? squares[i - 1 >= 0 ? i - 1 : i]?.focus()\r\n            : e.keyCode === 38\r\n            ? squares[i - sqrt >= 0 ? i - sqrt : i]?.focus()\r\n            : e.keyCode === 39\r\n            ? squares[i + 1 >= 0 ? i + 1 : i]?.focus()\r\n            : e.keyCode === 40\r\n            ? squares[i + sqrt >= 0 ? i + sqrt : i]?.focus()\r\n            : undefined;\r\n          e.preventDefault();\r\n        }\r\n      }\r\n\r\n      if (\r\n        squares[i].style.backgroundColor === currentColor ||\r\n        (e.type === 'pointerenter' &&\r\n          (!Helper.current?.isMouseDown || !Helper.current?.drawStart)) ||\r\n        (e.type === 'keydown' && e.keyCode !== 13)\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      // ? setting square color\r\n      squares[i].style.backgroundColor = currentColor;\r\n      if (!squares[i].dataset.touched) {\r\n        squares[i].dataset.touched = 'true';\r\n      }\r\n\r\n      Helper.current.canCallBack = true;\r\n      if (e.type === 'keydown') {\r\n        emitState(\r\n          squares.map((x: any) => ({\r\n            fill: x.style.backgroundColor,\r\n            touched: x.dataset.touched,\r\n          }))\r\n        );\r\n      }\r\n    };\r\n\r\n    // console.log('rendered');\r\n    // console.count(); TODO: fix multiple renders\r\n\r\n    return (\r\n      <div\r\n        className=\"paintGrid\"\r\n        ref={ref}\r\n        style={{\r\n          gridTemplateColumns: `repeat(${sqrt}, minmax(1px, 1fr))`,\r\n          gridTemplateRows: `repeat(${sqrt}, minmax(1px, 1fr))`,\r\n        }}\r\n      >\r\n        {grid.map((x, i, arr) => (\r\n          <div\r\n            aria-label=\"fill square\"\r\n            className=\"square\"\r\n            data-touched={x.touched}\r\n            key={getCoords(i, arr.length)}\r\n            onKeyDown={(e) => handleFill(i, e)}\r\n            onPointerDown={(e) => handleFill(i, e)}\r\n            onPointerEnter={(e) => handleFill(i, e)}\r\n            ref={(el) => setSquareRef(i, el)}\r\n            role=\"button\"\r\n            style={{ backgroundColor: x.fill, ...addedStyle }}\r\n            tabIndex={0}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default PaintCanvas;\r\n","/* eslint-disable no-param-reassign */\r\n/* eslint-disable jsx-a11y/label-has-associated-control */\r\nimport { createRef, RefObject } from 'react';\r\n\r\nimport GridOnIcon from '@material-ui/icons/GridOn';\r\nimport { Button } from 'primereact/button';\r\nimport { toPng } from 'html-to-image';\r\nimport Joi from 'joi';\r\nimport { ColorPicker } from 'primereact/colorpicker';\r\nimport { InputNumber, InputNumberProps } from 'primereact/inputnumber';\r\nimport { ScrollPanel } from 'primereact/scrollpanel';\r\nimport { Badge } from 'primereact/badge';\r\nimport { Subject } from 'rxjs/internal/Subject';\r\nimport { debounceTime, take } from 'rxjs/operators';\r\n\r\nimport { initialGrid } from '../../services/drawingsService';\r\nimport GlobalListener from '../../services/globalListener';\r\nimport PaintCanvas from './paintCanvas';\r\n\r\nimport { Form } from '..';\r\n\r\nexport interface inputNumberEvent {\r\n  originalEvent: Event;\r\n  value: any;\r\n}\r\nexport interface GridItem {\r\n  fill: string;\r\n  touched: string;\r\n}\r\nexport interface DrawingState {\r\n  addedStyle: { border: string };\r\n  gateKeep: boolean;\r\n  canvasStateTimeline: GridItem[][];\r\n  currentStateIndex: number;\r\n  formData: {\r\n    drawingName: string;\r\n    description: string;\r\n  };\r\n  errors: { [key: string]: any };\r\n  grid: GridItem[];\r\n  currentColor: string;\r\n  isInitial: boolean;\r\n  dataUrl: string;\r\n}\r\n\r\nclass DrawingForm extends Form {\r\n  constructor(\r\n    props: { [x: string]: any } | Readonly<{ [x: string]: any }>,\r\n    private gridRef: RefObject<any>\r\n  ) {\r\n    super(props);\r\n    this.gridRef = createRef();\r\n  }\r\n\r\n  convert2image = async (): Promise<string> => {\r\n    const imgRef: HTMLElement = this.gridRef.current;\r\n\r\n    Array.from(imgRef.children).forEach((x: any) => {\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-expressions\r\n      x.dataset.touched ? false : (x.style.backgroundColor = 'transparent');\r\n      x.style.border = 'none';\r\n    });\r\n    imgRef.style.minWidth = '175px';\r\n    imgRef.style.minHeight = '175px';\r\n    imgRef.style.width = '175px';\r\n    imgRef.style.height = '175px';\r\n    return toPng(imgRef, {\r\n      backgroundColor: 'transparent',\r\n      style: { margin: 'auto', width: '100%', height: '100%' },\r\n      width: imgRef.offsetWidth,\r\n      height: imgRef.offsetHeight,\r\n      pixelRatio: 1,\r\n      skipFonts: true,\r\n    });\r\n  };\r\n\r\n  schema: { [key: string]: Joi.StringSchema | Joi.ArraySchema } = {\r\n    drawingName: Joi.string().min(2).max(26).required().label('Drawing Name'),\r\n    description: Joi.string().min(2).max(225).required().label('Description'),\r\n    grid: Joi.array().min(225).max(1225).required().label('canvas'),\r\n    dataUrl: Joi.string().required().label('src'),\r\n  };\r\n\r\n  validate = (isSubmit = false): any => {\r\n    const {\r\n      state: { formData, grid, dataUrl },\r\n      schema: { drawingName, description, _id },\r\n    } = this;\r\n\r\n    const schema: { [key: string]: Joi.StringSchema | Joi.ArraySchema } = {\r\n      drawingName,\r\n      description,\r\n    };\r\n    if (_id) schema._id = _id;\r\n    if (grid && isSubmit) {\r\n      formData.grid = [...grid].filter((x) => x.touched);\r\n      schema.grid = this.schema.grid;\r\n      formData.dataUrl = dataUrl;\r\n      schema.dataUrl = this.schema.dataUrl;\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-expressions\r\n    } else delete formData.grid && delete formData.dataUrl;\r\n\r\n    const { error } = Joi.object(schema)!.validate(formData, {\r\n      abortEarly: false,\r\n    });\r\n\r\n    if (!error) return null;\r\n\r\n    const errors: { [name: string]: any } = {};\r\n\r\n    error.details.forEach(({ path, message }: any) => {\r\n      errors[path[0]] = message;\r\n    });\r\n\r\n    return errors;\r\n  };\r\n\r\n  handleFill = (newGrid: GridItem[]): void => {\r\n    const { currentStateIndex, canvasStateTimeline } = this.state;\r\n    this.setState({\r\n      grid: newGrid,\r\n      currentStateIndex: currentStateIndex + 1,\r\n      canvasStateTimeline: [\r\n        ...canvasStateTimeline.slice(0, currentStateIndex + 1),\r\n        newGrid,\r\n      ],\r\n      isInitial: false,\r\n    });\r\n  };\r\n\r\n  handleChangeComplete = ({ r, g, b }: { [key: string]: any }): void => {\r\n    this.setState({ currentColor: `rgb(${[r, g, b].join(', ')})` });\r\n  };\r\n\r\n  handleNumberChange = (e: inputNumberEvent): void => {\r\n    const newNumber = +e.value;\r\n    if (newNumber < 15 || newNumber > 35) return;\r\n    const newGrid = Array(newNumber ** 2)\r\n      .fill('')\r\n      .map((_, i) => ({\r\n        fill: i % 2 === 0 ? 'lightgrey' : 'white',\r\n        touched: '',\r\n      }));\r\n\r\n    const resetTimeline = [newGrid];\r\n\r\n    this.setState({\r\n      grid: newGrid,\r\n      canvasStateTimeline: resetTimeline,\r\n      currentStateIndex: 0,\r\n      isInitial: true,\r\n    });\r\n  };\r\n\r\n  handleUndo = (): void => {\r\n    const { canvasStateTimeline, currentStateIndex, grid } = this.state;\r\n    if (currentStateIndex < 1) return;\r\n    const size = Math.sqrt(grid.length);\r\n    const newIdex = currentStateIndex - 1;\r\n\r\n    this.setState({\r\n      grid: canvasStateTimeline[newIdex],\r\n      canvasStateTimeline: [...canvasStateTimeline],\r\n      currentStateIndex: newIdex,\r\n      isInitial:\r\n        JSON.stringify(canvasStateTimeline[newIdex]) ===\r\n        JSON.stringify(initialGrid(size)),\r\n    });\r\n  };\r\n\r\n  handleRedo = (): void => {\r\n    const { canvasStateTimeline, currentStateIndex, grid } = this.state;\r\n    // prettier-ignore\r\n    if (currentStateIndex === canvasStateTimeline.length - 1) return;\r\n    const size = Math.sqrt(grid.length);\r\n    const newIdex = currentStateIndex + 1;\r\n    this.setState({\r\n      grid: canvasStateTimeline[newIdex],\r\n      canvasStateTimeline: [...canvasStateTimeline],\r\n      currentStateIndex: newIdex,\r\n      isInitial:\r\n        JSON.stringify(canvasStateTimeline[newIdex]) ===\r\n        JSON.stringify(initialGrid(size)),\r\n    });\r\n  };\r\n\r\n  handleReset = (): void => {\r\n    if (this.state.isInitial) return;\r\n    const { currentStateIndex, canvasStateTimeline, grid } = this.state;\r\n    const size = Math.sqrt(grid.length);\r\n    this.setState({\r\n      grid: initialGrid(size),\r\n      currentStateIndex: currentStateIndex + 1,\r\n      canvasStateTimeline: [\r\n        ...canvasStateTimeline.slice(0, currentStateIndex + 1),\r\n        initialGrid(size),\r\n      ],\r\n      isInitial: true,\r\n    });\r\n  };\r\n\r\n  handleGridOff = (hideGrid: boolean): void => {\r\n    const { grid, gateKeep } = this.state;\r\n    if (hideGrid) {\r\n      this.setState({\r\n        addedStyle: { border: 'none' },\r\n        grid: grid.map((x: GridItem) => ({\r\n          ...x,\r\n          fill: x.touched ? x.fill : 'transparent',\r\n        })),\r\n        gateKeep: false,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (gateKeep) return;\r\n\r\n    const { currentStateIndex, canvasStateTimeline } = this.state;\r\n\r\n    this.setState({\r\n      addedStyle: { border: '1px solid #00000065' },\r\n      grid: canvasStateTimeline[currentStateIndex],\r\n    });\r\n  };\r\n\r\n  renderSizePicker(): JSX.Element {\r\n    const { grid } = this.state;\r\n    const root = Math.sqrt(grid.length);\r\n    const inputProps: InputNumberProps = {\r\n      step: 2,\r\n      min: 15,\r\n      max: 35,\r\n      value: root,\r\n      format: true,\r\n      readOnly: true,\r\n    };\r\n    return (\r\n      <>\r\n        <div className=\"p-grid p-fluid\">\r\n          <div className=\" p-field p-col-12\">\r\n            {/* eslint-disable-next-line jsx-a11y/label-has-associated-control */}\r\n            <label htmlFor=\"gridSize\">Grid Size (15x15 - 35x35)</label>\r\n            <InputNumber\r\n              buttonLayout=\"horizontal\"\r\n              decrementButtonClassName=\" p-button-outlined p-button-danger\"\r\n              decrementButtonIcon=\"pi pi-minus\"\r\n              id=\"gridSize\"\r\n              incrementButtonClassName=\" p-button-outlined p-button-info\"\r\n              incrementButtonIcon=\"pi pi-plus\"\r\n              name=\"gridSize\"\r\n              onChange={(e) => this.handleNumberChange(e)}\r\n              showButtons\r\n              suffix={`x${root}`}\r\n              {...inputProps}\r\n            />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  renderPaintCanvas(): JSX.Element {\r\n    const { currentColor } = this.state;\r\n    return (\r\n      <>\r\n        <PaintCanvas\r\n          addedStyle={this.state.addedStyle}\r\n          currentColor={currentColor}\r\n          fillAction={(newGrid: GridItem[]): any => this.handleFill(newGrid)}\r\n          grid={this.state.grid}\r\n          ref={this.gridRef}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n  renderTools(): JSX.Element {\r\n    const onChange$ = new Subject();\r\n    const handleSearch = (rgb: { [key: string]: any }) => {\r\n      onChange$.next(rgb);\r\n    };\r\n    onChange$.pipe(debounceTime(100), take(1)).subscribe((rgb: any) => {\r\n      this.handleChangeComplete(rgb);\r\n    });\r\n\r\n    const [r, g, b] = this?.state?.currentColor?.match(/[0-9]{1,3}/g);\r\n\r\n    const cpStyles = {\r\n      color: `rgb(${[r, g, b].join(', ')})`,\r\n      filter: `drop-shadow(0 0 2px white) invert(1) grayscale(1) contrast(4)`,\r\n    };\r\n\r\n    return (\r\n      <ScrollPanel\r\n        className=\"sp contain mx-auto p-card\"\r\n        style={{ height: '58px' }}\r\n      >\r\n        <div className=\"tools p-2\">\r\n          <div className=\"leftContents d-flex align-items-center justify-content-start\">\r\n            <Button\r\n              aria-label=\"undo\"\r\n              className=\"p-button-rounded p-button p-button-text\"\r\n              icon=\"pi pi-replay\"\r\n              onClick={this.handleUndo}\r\n            />\r\n            <Button\r\n              aria-label=\"redo\"\r\n              className=\"p-button-rounded p-button p-button-text\"\r\n              icon=\"pi pi-refresh\"\r\n              onClick={this.handleRedo}\r\n            />\r\n            {/* <Divider layout=\"vertical\" style={{ padding: 0 }} /> */}\r\n            <div className=\"p-float-label p-overlay-badge\">\r\n              <ColorPicker\r\n                appendTo={this.gridRef.current}\r\n                format=\"rgb\"\r\n                onChange={({ value }) =>\r\n                  // eslint-disable-next-line no-restricted-globals\r\n                  !isNaN(value.r) && handleSearch(value)\r\n                }\r\n                value={{ r, g, b }}\r\n              />\r\n              <Badge\r\n                style={{\r\n                  backgroundColor: cpStyles.color,\r\n                  boxShadow: '0 0 1px 1px',\r\n                  filter: `drop-shadow(0 0 2px white)`,\r\n                }}\r\n              />\r\n              <label\r\n                className=\"pi pi-palette\"\r\n                style={{\r\n                  transform: 'scale(1.8)',\r\n                  ...cpStyles,\r\n                }}\r\n              />\r\n            </div>\r\n            {/* <Divider layout=\"vertical\" style={{ padding: 0 }} /> */}\r\n          </div>\r\n          <div className=\"rightContents d-flex align-content-center justify-content-around\">\r\n            <Button\r\n              aria-label=\"reset\"\r\n              className=\"p-button-rounded p-button-text p-button-danger\"\r\n              // endIcon={<GridOnIcon />}\r\n              label=\"Clear\"\r\n              onClick={this.handleReset}\r\n            >\r\n              {/* TODO: whileTap={{ scale: 0.9 }} */}\r\n              <GridOnIcon />\r\n            </Button>\r\n            <Button\r\n              aria-label=\"see results\"\r\n              className=\"p-button-rounded p-button-text p-button-success\"\r\n              icon=\"pi pi-eye\"\r\n              label=\"Demo\"\r\n              onPointerDown={() => this.handleGridOff(true)}\r\n            >\r\n              <GlobalListener\r\n                eventType={['pointerup', 'touchend']}\r\n                handler={[() => this.handleGridOff(false), true]}\r\n              />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </ScrollPanel>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DrawingForm;\r\n","/* eslint-disable jsx-a11y/control-has-associated-label */\r\nimport { useState } from 'react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\n\r\nexport interface ColorPickerProps {\r\n  emitChangeComplete: (color: any) => void;\r\n  currentColor: string;\r\n}\r\n\r\nfunction ColorPicker({\r\n  emitChangeComplete,\r\n  currentColor,\r\n}: ColorPickerProps): any {\r\n  const [displayColorPicker, setDisplayColorPicker] = useState(false);\r\n  const [color, setColor] = useState(currentColor);\r\n\r\n  const styles = reactCSS({\r\n    default: {\r\n      color: {\r\n        width: '36px',\r\n        height: '14px',\r\n        borderRadius: '2px',\r\n        background: color,\r\n      },\r\n      swatch: {\r\n        padding: '5px',\r\n        background: '#fff',\r\n        borderRadius: '1px',\r\n        boxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n        display: 'inline-block',\r\n        cursor: 'pointer',\r\n      },\r\n      popover: {\r\n        position: 'absolute',\r\n        zIndex: '2',\r\n      },\r\n      cover: {\r\n        position: 'fixed',\r\n        top: '0px',\r\n        right: '0px',\r\n        bottom: '0px',\r\n        left: '0px',\r\n      },\r\n    },\r\n  });\r\n\r\n  const handleClose = () => {\r\n    setDisplayColorPicker(false);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setDisplayColorPicker((dcp) => !dcp);\r\n  };\r\n\r\n  const handleChange = (newColor: any) => {\r\n    setColor(newColor.hex);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        onClick={handleClick}\r\n        onKeyDown={(e) => (e.key === 'enter' ? handleClick() : false)}\r\n        role=\"button\"\r\n        style={styles.swatch}\r\n        tabIndex={0}\r\n      >\r\n        <div style={styles.color} />\r\n      </div>\r\n      {displayColorPicker ? (\r\n        <div style={(styles as any).popover}>\r\n          <div\r\n            onClick={handleClose}\r\n            onKeyDown={(e) => (e.key === 'esc' ? handleClose() : false)}\r\n            role=\"button\"\r\n            style={(styles as any).cover}\r\n            tabIndex={0}\r\n          />\r\n          <SketchPicker\r\n            color={color}\r\n            onChange={handleChange}\r\n            onChangeComplete={emitChangeComplete}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ColorPicker;\r\n","/* eslint-disable no-nested-ternary */\n/* eslint-disable react/jsx-props-no-spreading */\nimport { useState } from 'react';\n\nimport { Divider } from 'primereact/divider';\nimport { InputText } from 'primereact/inputtext';\nimport { InputTextarea } from 'primereact/inputtextarea';\nimport { Password } from 'primereact/password';\n\nimport { InputProps } from '../interfaces/InputProps';\n\nconst Input = ({ name, label, error, ...rest }: InputProps): any => {\n  const [value, setValue] = useState('');\n  const header = <h6>Pick a password</h6>;\n  const footer = (\n    <>\n      <Divider />\n      <p className=\"p-mt-2\">Requirements</p>\n      <div className=\"p-pl-2 p-ml-2 p-mt-0\" style={{ lineHeight: '1.5' }}>\n        <span> - Minimum 6 characters</span>\n      </div>\n    </>\n  );\n\n  const { feedback } = rest;\n\n  return (\n    <div className=\"my-4 p-fluid\">\n      {rest.type === 'password' ? (\n        <span className=\"p-float-label p-field\">\n          <Password\n            feedback={feedback}\n            footer={feedback && footer}\n            header={feedback && header}\n            id={name}\n            name={name}\n            onInput={(e) => setValue((e.target as HTMLInputElement).value)}\n            toggleMask\n            value={value}\n            {...rest}\n          />\n          <label htmlFor={name}>{label}</label>\n        </span>\n      ) : rest.type === 'textarea' ? (\n        <span className=\"p-float-label p-field\">\n          <InputTextarea\n            autoResize\n            id={name}\n            name={name}\n            rows={1}\n            /* prettier-ignore */\n            {...rest}\n          />\n          <label htmlFor={name} style={{ width: '90%' }}>\n            {label}\n          </label>\n        </span>\n      ) : (\n        <span className=\"p-float-label p-field\">\n          <InputText\n            id={name}\n            name={name}\n            type=\"text\"\n            /* prettier-ignore */\n            {...rest}\n          />\n          <label htmlFor={name} style={{ width: '90%' }}>\n            {label}\n          </label>\n        </span>\n      )}\n      {error && <span className=\"text-danger\">{error}</span>}\n    </div>\n  );\n};\n\nexport default Input;\n","interface PageHeaderProps {\n  titleText: string;\n}\n\nconst PageHeader = ({ titleText }: PageHeaderProps): any => (\n  <div className=\"row text-center\">\n    <div className=\"col-12 mt-4\">\n      <h1>{titleText}</h1>\n    </div>\n  </div>\n);\n\nexport default PageHeader;\n","import { useEffect, useState } from 'react';\r\n\r\nimport { motion, transform, useAnimation } from 'framer-motion';\r\n\r\nimport { GenericObjectProps } from '../../interfaces/genericObjectProps';\r\n\r\nimport './styles.scss';\r\n\r\nconst mapRemainingToColor = transform([2, 6], ['#ff008c', '#ccc']);\r\nconst mapRemainingToSpringVelocity = transform([0, 15], [15, 0]);\r\n\r\nconst InputFeedback = ({\r\n  renderInput,\r\n  maxLength,\r\n  label,\r\n  currentValue,\r\n}: GenericObjectProps): JSX.Element => {\r\n  const [value, setValue] = useState(currentValue || '');\r\n  const charactersRemaining = maxLength - value.length;\r\n  const controls = useAnimation();\r\n\r\n  useEffect(() => {\r\n    if (charactersRemaining > 10) return;\r\n\r\n    controls.start({\r\n      scale: 1,\r\n      transition: {\r\n        type: 'spring',\r\n        velocity: mapRemainingToSpringVelocity(charactersRemaining),\r\n      },\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [value.length]);\r\n\r\n  const feedbackElement = (\r\n    <div className=\"motion-container\">\r\n      <div>{label}</div>\r\n      {!!value.length && (\r\n        <div>\r\n          {/* Characters Remaining: TODO: fit text here */}\r\n          <motion.div\r\n            animate={controls}\r\n            style={{\r\n              color: mapRemainingToColor(charactersRemaining),\r\n              display: 'inline-block',\r\n            }}\r\n          >\r\n            &nbsp;{charactersRemaining}\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"input-container\">\r\n      {renderInput({\r\n        onInput: (e: any) =>\r\n          setValue(\r\n            e.target.value.length > maxLength\r\n              ? value.substring(0, maxLength)\r\n              : e.target.value\r\n          ),\r\n        value,\r\n        label: feedbackElement,\r\n        maxLength,\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputFeedback;\r\n","/* eslint-disable jsx-a11y/control-has-associated-label */\r\n/* eslint-disable newline-per-chained-call */\r\nimport React from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { DrawingForm, DrawingState, PageHeader } from '../../common';\r\nimport { GenericObjectProps } from '../../interfaces/genericObjectProps';\r\nimport { createDrawing, initialGrid } from '../../services/drawingsService';\r\nimport InputFeedback from './inputTextFeedback';\r\n\r\nclass CreateDrawing extends DrawingForm {\r\n  state: DrawingState = {\r\n    addedStyle: { border: '1px solid #00000065' },\r\n    gateKeep: true,\r\n    canvasStateTimeline: [initialGrid()],\r\n    currentStateIndex: 0,\r\n    formData: {\r\n      drawingName: '',\r\n      description: '',\r\n    },\r\n    errors: {},\r\n    grid: initialGrid(),\r\n    currentColor: 'rgb(63, 81, 181)',\r\n    isInitial: true,\r\n    dataUrl: '',\r\n  };\r\n\r\n  doSubmit = async (): Promise<void> => {\r\n    const { formData, grid, dataUrl } = this.state;\r\n    const data = { ...formData, grid, dataUrl };\r\n\r\n    await createDrawing(data);\r\n    toast.success('A new drawing was created', {\r\n      position: 'top-center',\r\n      autoClose: 2500,\r\n    });\r\n    (this.props as any).history.replace('/my-drawings');\r\n  };\r\n\r\n  render(): React.ReactNode {\r\n    return (\r\n      <div>\r\n        <PageHeader titleText=\"Create pixel art\" />\r\n        <div className=\"row text-center\">\r\n          <div className=\"col-12\">\r\n            <p>Lets make a new drawing!</p>\r\n          </div>\r\n          {this.renderPaintCanvas()}\r\n        </div>\r\n        {this.renderTools()}\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\" m-auto\">\r\n              <form\r\n                className=\"p-card\"\r\n                noValidate\r\n                onSubmit={(e) => {\r\n                  if (this.state.isInitial) {\r\n                    e.preventDefault();\r\n                    toast.error('Canvas can not be blank', {\r\n                      position: 'top-center',\r\n                      autoClose: 2500,\r\n                    });\r\n                    return;\r\n                  }\r\n                  this.handleSubmit(e);\r\n                }}\r\n              >\r\n                <div className=\"p-card-content m-3\">\r\n                  {this.renderSizePicker()}\r\n                  <InputFeedback\r\n                    label=\"Name\"\r\n                    maxLength={26}\r\n                    renderInput={(rest: GenericObjectProps) =>\r\n                      this.renderInput('drawingName', '', 'text', {\r\n                        ...rest,\r\n                      })\r\n                    }\r\n                  />\r\n                  <InputFeedback\r\n                    label=\"Description\"\r\n                    maxLength={225}\r\n                    renderInput={(rest: GenericObjectProps) =>\r\n                      this.renderInput('description', '', 'textarea', {\r\n                        ...rest,\r\n                      })\r\n                    }\r\n                  />\r\n                  {this.renderButton('Create Drawing')}\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateDrawing;\r\n","/* eslint-disable @typescript-eslint/naming-convention */\r\n/* eslint-disable newline-per-chained-call */\r\n\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport Joi from 'joi';\r\n\r\nimport { DrawingForm, PageHeader } from '../../common';\r\nimport { Drawing } from '../../interfaces/Drawing';\r\nimport { GenericObjectProps } from '../../interfaces/genericObjectProps';\r\nimport { editDrawing, getDrawing } from '../../services/drawingsService';\r\nimport InputFeedback from './inputTextFeedback';\r\n\r\nclass EditDrawing extends DrawingForm {\r\n  state = {\r\n    addedStyle: { border: '1px solid #00000065' },\r\n    gateKeep: true,\r\n    canvasStateTimeline: [],\r\n    currentStateIndex: 0,\r\n    formData: {\r\n      _id: '',\r\n      drawingName: '',\r\n      description: '',\r\n    },\r\n    errors: {},\r\n    grid: [],\r\n    currentColor: 'rgb(63, 81, 181)',\r\n    isInitial: false,\r\n    dataUrl: '',\r\n  };\r\n\r\n  async componentDidMount(): Promise<void> {\r\n    this.schema._id = Joi.string();\r\n    try {\r\n      const { data }: any = await getDrawing(\r\n        (this.props as any).match.params.id\r\n      );\r\n      const { drawingName, description, grid, _id } = this.mapToState(data);\r\n\r\n      // ? mapping out _id field from grid\r\n      const savedGrid = grid.map(({ fill, touched }) => ({ fill, touched }));\r\n\r\n      this.setState({\r\n        formData: { drawingName, description, _id },\r\n        grid: savedGrid,\r\n        canvasStateTimeline: [savedGrid],\r\n        isInitial: false,\r\n      });\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  mapToState = (drawing: Drawing): Drawing => {\r\n    // TODO: remove, redundant code\r\n    const { drawingName, description, grid, _id }: Drawing = drawing;\r\n    return { drawingName, description, grid, _id };\r\n  };\r\n\r\n  doSubmit = async (): Promise<void> => {\r\n    const { formData, grid, dataUrl } = this.state;\r\n    const data = { ...formData, grid, dataUrl };\r\n\r\n    await editDrawing(data);\r\n\r\n    toast.success('Drawing was updated', {\r\n      position: 'top-center',\r\n      autoClose: 2500,\r\n    });\r\n    (this.props as any).history.replace('/my-drawings');\r\n  };\r\n\r\n  render(): React.ReactNode {\r\n    const {\r\n      grid,\r\n      formData: { drawingName, description, _id },\r\n    } = this.state;\r\n    return (\r\n      _id && (\r\n        <div>\r\n          <PageHeader titleText=\"Edit drawing\" />\r\n          <div className=\"row text-center\">\r\n            <div className=\"col-12\">\r\n              <p>Edit your drawing</p>\r\n            </div>\r\n            {grid.length ? (\r\n              this.renderPaintCanvas()\r\n            ) : (\r\n              <div className=\"m-auto text-info\">LOADING...</div>\r\n            )}\r\n          </div>\r\n          {this.renderTools()}\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\" m-auto\">\r\n                <form\r\n                  className=\"p-card\"\r\n                  noValidate\r\n                  onSubmit={(e) => {\r\n                    if (this.state.isInitial) {\r\n                      e.preventDefault();\r\n                      toast.error('Canvas can not be blank', {\r\n                        position: 'top-center',\r\n                        autoClose: 2500,\r\n                      });\r\n                      return;\r\n                    }\r\n                    this.handleSubmit(e);\r\n                  }}\r\n                >\r\n                  <div className=\"p-card-content m-3\">\r\n                    {this.renderSizePicker()}\r\n                    <InputFeedback\r\n                      currentValue={drawingName}\r\n                      label=\"Name\"\r\n                      maxLength={26}\r\n                      renderInput={(rest: GenericObjectProps) =>\r\n                        this.renderInput('drawingName', '', undefined, {\r\n                          ...rest,\r\n                        })\r\n                      }\r\n                    />\r\n                    <InputFeedback\r\n                      currentValue={description}\r\n                      label=\"Description\"\r\n                      maxLength={225}\r\n                      renderInput={(rest: GenericObjectProps) =>\r\n                        this.renderInput('description', '', 'textarea', {\r\n                          ...rest,\r\n                        })\r\n                      }\r\n                    />\r\n\r\n                    <div className=\"text-center mx-5 my-3\">\r\n                      <Link\r\n                        className=\"btn btn-block btn-danger\"\r\n                        to=\"/my-drawings\"\r\n                      >\r\n                        Cancel\r\n                      </Link>\r\n                    </div>\r\n\r\n                    {this.renderButton('Update Drawing')}\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditDrawing;\r\n","import { createContext } from 'react';\r\n\r\nconst FavoritesContext = createContext<any[]>([]);\r\n\r\nexport default FavoritesContext;\r\n","import { RefObject } from 'react';\n\nimport { mix } from '@popmotion/popcorn';\nimport { MotionValue, useDomEvent } from 'framer-motion';\nimport { debounce } from 'lodash-es';\nimport { animate } from 'popmotion';\n\ninterface Constraints {\n  top: number;\n  bottom: number;\n}\n\n// Absolute distance a wheel scroll event can travel outside of\n// the defined constraints before we fire a \"snap back\" animation\nconst deltaThreshold = 5;\n\n// If wheel event fires beyond constraints, multiple the delta by this amount\nconst elasticFactor = 0.2;\n\nfunction springTo(value: MotionValue, from: number, to: number): void {\n  if (value.isAnimating()) return;\n\n  value.start((complete) => {\n    const animation = animate({\n      from,\n      to,\n      velocity: value.getVelocity(),\n      stiffness: 400,\n      damping: 40,\n      onUpdate: (v: number) => value.set(v),\n      onComplete: complete,\n    });\n\n    return () => animation.stop();\n  });\n}\n\nconst debouncedSpringTo = debounce(springTo, 100);\n\n/**\n * @param ref - Ref of the Element to attach listener to\n * @param y - MotionValue for the scrollable element - might be different to the Element\n * @param constraints - top/bottom scroll constraints in pixels.\n * @param isActive - `true` if this listener should fire.\n */\nfunction useWheelScroll(\n  ref: RefObject<Element>,\n  y: MotionValue<number>,\n  constraints: Constraints | null,\n  onWheelCallback: () => void,\n  isActive: boolean\n): void {\n  const onWheel = (event: WheelEvent) => {\n    event.preventDefault();\n\n    const currentY = y.get();\n    let newY = currentY - event.deltaY;\n    let startedAnimation = false;\n    const isWithinBounds =\n      constraints && newY >= constraints.top && newY <= constraints.bottom;\n\n    if (constraints && !isWithinBounds) {\n      newY = mix(currentY, newY, elasticFactor);\n\n      if (newY < constraints.top) {\n        if (event.deltaY <= deltaThreshold) {\n          springTo(y, newY, constraints.top);\n          startedAnimation = true;\n        } else {\n          debouncedSpringTo(y, newY, constraints.top);\n        }\n      }\n\n      if (newY > constraints.bottom) {\n        if (event.deltaY >= -deltaThreshold) {\n          springTo(y, newY, constraints.bottom);\n          startedAnimation = true;\n        } else {\n          debouncedSpringTo(y, newY, constraints.bottom);\n        }\n      }\n    }\n\n    if (!startedAnimation) {\n      // y.stop();\n      y.set(newY);\n    } else {\n      debouncedSpringTo.cancel();\n    }\n\n    onWheelCallback();\n  };\n\n  useDomEvent(ref, 'wheel', (isActive as any) && onWheel, { passive: false });\n}\n\nexport default useWheelScroll;\n","import {\n  AnimationControls,\n  TargetAndTransition,\n  Transition,\n  VariantLabels,\n} from 'framer-motion';\n\nexport const openSpring: Transition = {\n  type: 'spring',\n  stiffness: 200,\n  damping: 30,\n};\nexport const closeSpring: Transition = {\n  type: 'spring',\n  stiffness: 300,\n  damping: 30,\n};\nexport const openAnimation:\n  | AnimationControls\n  | TargetAndTransition\n  | VariantLabels = {\n  zIndex: 2,\n};\nexport const closeAnimation:\n  | AnimationControls\n  | TargetAndTransition\n  | VariantLabels\n  | { [key: string]: any } = {\n  stiffness: 300,\n  transitionEnd: { zIndex: 0 },\n};\n","import { memo } from 'react';\n\nimport { Button } from 'primereact/button';\n\nexport const ContentPlaceholder = memo(\n  ({ description, painterInfo }: { description: string; painterInfo: any }) => {\n    const { name } = painterInfo;\n    return (\n      <div className=\"content-container\">\n        {painterInfo && (\n          <div className=\"d-flex justify-content-between mx-2\">\n            <span>By: {name}</span>\n            <Button\n              className=\"mx-1 p-button-rounded p-button-text p-button-lg d-inline-block\"\n              icon=\"pi pi-user\"\n              label=\"See profile\"\n              onClick={() => {\n                // history.replace('/my-drawings');\n              }}\n            />\n          </div>\n        )}\n        <p>{description}</p>\n      </div>\n    );\n  }\n);\n\nexport default ContentPlaceholder;\n","import { motion } from 'framer-motion';\n\nimport { closeAnimation, openAnimation } from './animations';\n\nexport interface ImageProps {\n  isSelected: boolean;\n  src: string;\n}\n\nexport const Image = ({ isSelected, src }: ImageProps): any => (\n  <motion.div\n    animate={isSelected ? openAnimation : closeAnimation}\n    className=\"d-card-image-container\"\n    layout\n  >\n    <motion.img\n      alt=\"drawing thumbnail\"\n      animate={isSelected ? openAnimation : closeAnimation}\n      className=\"d-card-image\"\n      layout\n      loading=\"lazy\"\n      onError={(e) => {\n        (e.target as any).src =\n          'https://socialistmodernism.com/wp-content/uploads/2017/07/placeholder-image-300x225.png';\n      }}\n      src={src}\n    />\n  </motion.div>\n);\n\nexport default Image;\n","import { useContext, useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport useClipboard from 'react-use-clipboard';\r\n\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { OpenInNew, ShareOutlined } from '@material-ui/icons';\r\nimport GetAppRoundedIcon from '@material-ui/icons/GetAppRounded';\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\nimport SpeedDial from '@material-ui/lab/SpeedDial';\r\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\r\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\r\nimport {\r\n  BookmarkIcon,\r\n  BookmarkSlashFillIcon,\r\n  ClippyIcon,\r\n  GitForkIcon,\r\n  LinkIcon,\r\n} from '@primer/octicons-react';\r\n\r\nimport { createDrawing, getDrawing } from '../../../services/drawingsService';\r\nimport FavoritesContext from '../../../services/favoritesContext';\r\nimport { getCurrentUser } from '../../../services/userService';\r\n// import AlertDialogSlide from './share action/shareDialog'; // TODO: SHARE\r\n\r\nconst download = (dataurl: string, filename: string) => {\r\n  const a = document.createElement('a');\r\n  a.href = dataurl;\r\n  a.setAttribute('download', filename);\r\n  a.click();\r\n};\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    speedDial: {\r\n      position: 'absolute',\r\n      bottom: theme.spacing(1),\r\n      right: theme.spacing(2),\r\n      '& .MuiSpeedDial-actions .MuiSpeedDialAction-staticTooltip .MuiSpeedDialAction-staticTooltipLabel': {\r\n        width: 'max-content !important',\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nexport default function SpeedDialTooltipOpen({\r\n  emitOpen,\r\n  emitClose,\r\n  emitFavoriteAction,\r\n  id,\r\n  drawingNumber,\r\n  dataUrl,\r\n  history,\r\n  basePath,\r\n}: {\r\n  emitOpen: () => void;\r\n  emitClose: () => void;\r\n  emitFavoriteAction: (isAdd: boolean) => void;\r\n  id: string;\r\n  drawingNumber: string | number;\r\n  dataUrl: string;\r\n  history: any;\r\n  basePath: string;\r\n}): JSX.Element {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  // const [openDialog, setOpenDialog] = useState(false);// TODO: SHARE\r\n  const favorites = useContext(FavoritesContext);\r\n  const [isCopied, setCopied] = useClipboard(dataUrl);\r\n\r\n  const handleOpen = () => {\r\n    emitOpen();\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    emitClose();\r\n    setOpen(false);\r\n  };\r\n\r\n  const actions = [\r\n    {\r\n      icon: <InfoOutlinedIcon />,\r\n      name: 'Info',\r\n      handleAction: () => {\r\n        history.push(`${basePath}/${id}`);\r\n      },\r\n    },\r\n    {\r\n      icon: <GitForkIcon size={24} />,\r\n      name: 'Fork',\r\n      handleAction: async () => {\r\n        try {\r\n          const { painter } = (await getCurrentUser()) as any;\r\n\r\n          if (!painter) {\r\n            toast.error(\r\n              <p className=\"text-center\">\r\n                Sorry, you need a `painter` account to fork a drawing. <br />\r\n                Feel free to create your own and start creating!\r\n              </p>,\r\n              {\r\n                position: 'top-center',\r\n                autoClose: 4000,\r\n              }\r\n            );\r\n            return;\r\n          }\r\n\r\n          const {\r\n            data: { grid, dataUrl: imageSrc, drawingName, description },\r\n          }: any = await getDrawing(id);\r\n          const data = {\r\n            drawingName: `${drawingName.substring(0, 15)}...(forked)`,\r\n            description: `${description.substring(0, 214)}...(forked)`,\r\n            grid,\r\n            dataUrl: imageSrc,\r\n          };\r\n\r\n          const {\r\n            data: { _id },\r\n          } = await createDrawing(data);\r\n\r\n          toast.success('Drawing Forked!', {\r\n            position: 'top-center',\r\n            autoClose: 2500,\r\n          });\r\n\r\n          history.replace(`/edit/${_id}`);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      },\r\n    },\r\n    // {\r\n    //   icon: <ShareOutlined />,\r\n    //   name: 'Share',\r\n    //   handleAction: () => {\r\n    //     setOpenDialog(true);\r\n    //   },\r\n    // },\r\n    // TODO: SHARE\r\n    {\r\n      icon: !favorites.includes(drawingNumber) ? (\r\n        <BookmarkIcon size={24} />\r\n      ) : (\r\n        <BookmarkSlashFillIcon size={24} />\r\n      ),\r\n      name: !favorites.includes(drawingNumber)\r\n        ? 'Save to Favorites'\r\n        : 'Remove from Favorites',\r\n      handleAction: () => {\r\n        emitFavoriteAction(!favorites.includes(drawingNumber));\r\n        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\r\n        !favorites.includes(drawingNumber)\r\n          ? toast.success('Saved to Favorites', { position: 'top-center' })\r\n          : toast.dark('Removed from Favorites', { position: 'top-center' });\r\n      },\r\n    },\r\n    {\r\n      icon: <GetAppRoundedIcon />,\r\n      name: 'Download Image',\r\n      handleAction: () => {\r\n        download(dataUrl, `${id}.png`);\r\n      },\r\n    },\r\n    {\r\n      icon: <LinkIcon size={24} />,\r\n      name: 'Copy Image Link',\r\n      handleAction: () => {\r\n        setCopied();\r\n        toast.success(\r\n          <span>\r\n            <ClippyIcon className=\"mr-5\" size={24} /> Copied to Clipboard!\r\n          </span>,\r\n          { position: 'top-center' }\r\n        );\r\n      },\r\n    },\r\n    {\r\n      icon: <OpenInNew />,\r\n      name: 'Open in New Window',\r\n      handleAction: () => {\r\n        const image = new Image();\r\n        const div = document.createElement('div');\r\n        div.setAttribute(\r\n          'style',\r\n          'height:100%;display:grid;justify-content:center;align-content:center;'\r\n        );\r\n        image.src = dataUrl;\r\n        div.appendChild(image);\r\n\r\n        const w = window.open('');\r\n        w?.document.write(div.outerHTML);\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <SpeedDial\r\n        ariaLabel=\"SpeedDial tooltip\"\r\n        className={classes.speedDial}\r\n        direction=\"up\"\r\n        icon={<SpeedDialIcon />}\r\n        onClose={handleClose}\r\n        onOpen={handleOpen}\r\n        open={open}\r\n      >\r\n        {actions.map((action) => (\r\n          <SpeedDialAction\r\n            icon={action.icon}\r\n            key={action.name}\r\n            onClick={() => {\r\n              action.handleAction?.();\r\n              handleClose();\r\n            }}\r\n            tooltipOpen\r\n            tooltipPlacement=\"left\"\r\n            tooltipTitle={action.name}\r\n          />\r\n        ))}\r\n      </SpeedDial>\r\n      {/* {openDialog && (\r\n        <AlertDialogSlide\r\n          dataUrl={dataUrl}\r\n          emitClose={() => setOpenDialog(false)}\r\n          title=\"Choose an Option\"\r\n        />\r\n      )}\r\n\r\n    // TODO: SHARE\r\n      */}\r\n    </div>\r\n  );\r\n}\r\n","import { motion } from 'framer-motion';\n\nimport { closeAnimation, openAnimation } from './animations';\n\nexport interface TitleProps {\n  title: any;\n  isSelected: any;\n}\n\nexport const Title = ({ title, isSelected }: TitleProps): any => (\n  <motion.div\n    animate={isSelected ? openAnimation : closeAnimation}\n    className=\"title-container\"\n  >\n    <h2>{title}</h2>\n  </motion.div>\n);\n\nexport default Title;\n","/* eslint-disable @typescript-eslint/no-unused-expressions */\nimport { memo, useRef, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport { Backdrop } from '@material-ui/core';\nimport {\n  motion,\n  MotionConfig,\n  useMotionValue,\n  useTransform,\n} from 'framer-motion';\nimport { Button } from 'primereact/button';\n\nimport { DrawingProps } from '../../../interfaces/DrawingProps';\nimport useScrollConstraints from '../utils/use-scroll-constraints';\nimport useWheelScroll from '../utils/use-wheel-scroll';\nimport {\n  closeAnimation,\n  closeSpring,\n  openAnimation,\n  openSpring,\n} from './animations';\nimport { ContentPlaceholder } from './ContentPlaceholder';\nimport { Image } from './Image';\nimport SpeedDialTooltipOpen from './quickActions';\nimport { Title } from './Title';\n\ninterface Props extends DrawingProps {\n  isSelected: boolean;\n  [key: string]: any;\n}\n\n// Distance in pixels a user has to scroll a card down before recognizing\n// a swipe-to dismiss action.\nconst dismissDistance = 100;\n\nconst Card = memo(\n  ({\n    isSelected,\n    onDelete,\n    onFavoriteAction,\n    _id,\n    drawingName,\n    description,\n    dataUrl,\n    drawingNumber,\n    painterInfo,\n  }: Props) => {\n    const [isOpen, setOpen] = useState(false);\n\n    const history = useHistory();\n    const y = useMotionValue(0);\n    const input = [-500, 0, 500];\n    const output = [0, isSelected ? 1 : 0, 0];\n    const opacity = useTransform(y, input, output);\n\n    // use the opened card element to calculate the scroll constraints\n    const cardRef = useRef(null);\n    const constraints = useScrollConstraints(cardRef, isSelected);\n\n    const basePath = onDelete ? 'my-drawings' : 'my-favorites';\n\n    function checkSwipeToDismiss() {\n      const yValue = y.get();\n      const isInBounds = yValue > dismissDistance || yValue < -dismissDistance;\n\n      isInBounds && history.go(-1);\n    }\n\n    // When this card is selected, attach a wheel event listener\n    const containerRef = useRef(null);\n    useWheelScroll(\n      containerRef,\n      y,\n      constraints,\n      checkSwipeToDismiss,\n      isSelected\n    );\n\n    return (\n      <li className=\"d-card\" ref={containerRef}>\n        <motion.div\n          className=\"overlay\"\n          style={{ opacity, pointerEvents: isSelected ? 'auto' : 'none' }}\n          transition={{ duration: 0.2, delay: 0.1 }}\n        >\n          <Link replace to={`/${basePath}`} />\n        </motion.div>\n        <MotionConfig transition={isSelected ? openSpring : closeSpring}>\n          <motion.div\n            _dragY={y}\n            animate={isSelected ? openAnimation : closeAnimation}\n            className={`d-card-content-container ${isSelected && 'open'}`}\n            drag={isSelected ? 'y' : false}\n            dragConstraints={constraints}\n            onDragEnd={checkSwipeToDismiss}\n            ref={cardRef}\n            style={{ y }}\n          >\n            <motion.div\n              animate={isSelected ? openAnimation : closeAnimation}\n              className=\"d-card-content\"\n              layout\n            >\n              <Backdrop\n                open={isOpen}\n                style={{ zIndex: 1, position: 'absolute' }}\n              />\n\n              <Image isSelected={isSelected} src={dataUrl} />\n              <Title isSelected={isSelected} title={drawingName} />\n              <ContentPlaceholder\n                description={description}\n                painterInfo={onDelete ? '' : painterInfo}\n              />\n              {onDelete && (\n                <span className=\"p-fluid d-flex justify-content-around mx-1 my-3\">\n                  <Button\n                    className=\"mx-1 p-button-rounded p-button-text p-button-lg d-inline-block\"\n                    icon=\"pi pi-pencil\"\n                    label=\"Edit\"\n                    onClick={() => history.replace(`/edit/${_id}`)}\n                  />\n                  <Button\n                    className=\"mx-1 p-button-rounded p-button-text p-button-danger p-button-lg d-inline-block\"\n                    icon=\"pi pi-trash\"\n                    label=\"Delete\"\n                    onClick={() => {\n                      onDelete();\n                      history.replace('/my-drawings');\n                    }}\n                  />\n                </span>\n              )}\n            </motion.div>\n          </motion.div>\n        </MotionConfig>\n        <div>\n          {!isSelected && (\n            <Link className=\"d-card-open-link\" to={`${basePath}/${_id}`} />\n          )}\n          {!isSelected && (\n            <motion.div\n              animate={{\n                opacity: 1,\n                scale: isOpen ? 0.85 : 0.75,\n              }}\n              className=\"speedDial-container\"\n              initial={{\n                opacity: 0,\n                scale: 0.2,\n                transformOrigin: '95%',\n              }}\n              transition={{\n                delay: isOpen ? 0 : 0.7,\n                type: 'spring',\n                stiffness: 150,\n                damping: 11,\n              }}\n            >\n              <SpeedDialTooltipOpen\n                basePath={basePath}\n                dataUrl={dataUrl}\n                drawingNumber={drawingNumber}\n                emitClose={() => setOpen(false)}\n                emitFavoriteAction={onFavoriteAction}\n                emitOpen={() => setOpen(true)}\n                history={history}\n                id={_id}\n              />\n            </motion.div>\n          )}\n        </div>\n      </li>\n    );\n  },\n  (prev, next) => prev.isSelected === next.isSelected\n);\n\nexport default Card;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from 'react';\n\ninterface Constraints {\n  top: number;\n  bottom: number;\n}\n\n/**\n * Calculate the top/bottom scroll constraints of a full-screen element vs the viewport\n */\nexport default function useScrollConstraints(\n  ref: { current: any },\n  measureConstraints: boolean\n): Constraints {\n  const [constraints, setConstraints] = useState<Constraints>({\n    top: 0,\n    bottom: 0,\n  });\n\n  useEffect(() => {\n    if (!measureConstraints) return;\n\n    const element = ref.current;\n    const viewportHeight = window.innerHeight;\n    const contentTop = element.offsetTop;\n    const contentHeight = element.offsetHeight;\n    const scrollableViewport = viewportHeight - contentTop * 2;\n    const top = Math.min(scrollableViewport - contentHeight, 0);\n\n    setConstraints({ top, bottom: 0 });\n  }, [measureConstraints]);\n\n  return constraints;\n}\n","import { useRouteMatch } from 'react-router-dom';\n\nimport Card from './Card';\n\nexport const List = ({\n  drawings,\n  emitDelete,\n  emitFavoriteAction,\n}: {\n  drawings: any;\n  emitDelete: (id: string, i: number) => void;\n  emitFavoriteAction: (dNum: string | number, isAdd: boolean) => void;\n}): any => {\n  const match: any = useRouteMatch('/my-drawings/:id');\n\n  return (\n    <ul className=\"d-card-list\">\n      {drawings.map((drawing: any, i: number) => (\n        <Card\n          isSelected={match?.params.id === drawing._id}\n          {...drawing}\n          key={drawing._id}\n          onDelete={() => emitDelete(drawing._id, i)}\n          onFavoriteAction={(isAdd: boolean) =>\n            emitFavoriteAction(drawing.drawingNumber, isAdd)\n          }\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport const FavoritesList = ({\n  drawings,\n  emitFavoriteAction,\n}: {\n  drawings: any;\n  emitFavoriteAction: (dNum: string | number, isAdd: boolean) => void;\n}): any => {\n  const match: any = useRouteMatch('/my-favorites/:id');\n\n  return (\n    <ul className=\"d-card-list\">\n      {drawings.map((drawing: any) => (\n        <Card\n          isSelected={match?.params.id === drawing._id}\n          {...drawing}\n          key={drawing._id}\n          onFavoriteAction={(isAdd: boolean) => {\n            emitFavoriteAction(drawing.drawingNumber, isAdd);\n          }}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default { List, FavoritesList };\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\n// import DrawingCard from '../../common/drawingCard';\nimport PageHeader from '../../common/pageHeader';\nimport { deleteDrawing, getMyDrawings } from '../../services/drawingsService';\nimport FavoritesContext from '../../services/favoritesContext';\nimport {\n  addFavorite,\n  getCurrentUserDetails,\n  removeFavorite,\n} from '../../services/userService';\nimport { List } from './CardList';\n\nimport './styles.scss';\n\ninterface MyDrawingsState {\n  drawings: any[];\n  favorites: any[];\n  loading: boolean;\n  // [x: string]: any;\n}\n\nclass MyDrawings extends Component {\n  state: MyDrawingsState = {\n    drawings: [],\n    favorites: [],\n    loading: true,\n  };\n\n  async componentDidMount(): Promise<void> {\n    await this.getData();\n  }\n\n  componentWillUnmount(): void {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    this.setState = (state, callback) => {};\n    // ? making sure there are no data leaks\n  }\n\n  async getData(): Promise<void> {\n    try {\n      const { data } = await getMyDrawings();\n\n      const {\n        data: { favorites },\n      } = await getCurrentUserDetails();\n\n      // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      data.length\n        ? this.setState({ loading: false, drawings: data, favorites })\n        : this.setState({ loading: false, drawings: [] });\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  }\n\n  handleDeleteDrawing = async (id: string, index: number): Promise<void> => {\n    const { drawings } = this.state;\n    try {\n      this.setState({ drawings: [...drawings].filter((_, i) => i !== index) });\n      await deleteDrawing(id);\n      this.getData();\n    } catch (error) {\n      this.setState({ drawings });\n      // eslint-disable-next-line no-console\n      console.error(error);\n    }\n  };\n\n  handleFavorite = async (\n    drawingNumber: string | number,\n    isAdd = false\n  ): Promise<void> => {\n    try {\n      const { data } = isAdd\n        ? await addFavorite(drawingNumber)\n        : await removeFavorite(drawingNumber);\n\n      this.setState({\n        favorites: data.favorites,\n      });\n    } catch (error) {\n      // console.error(error);\n    }\n  };\n\n  render(): React.ReactNode {\n    const { drawings, loading, favorites } = this.state;\n\n    return (\n      <div className=\"container\">\n        <PageHeader titleText=\"Drawing Collection\" />\n        <div className=\"my-4 col-12 text-center\">\n          <h6>Your drawing Collection</h6>\n\n          <div className=\"row drawingListContainer\">\n            {drawings.length ? (\n              // path={['/:id', '/']}\n              <FavoritesContext.Provider value={favorites}>\n                <List\n                  drawings={drawings}\n                  emitDelete={(id: string, i: number) =>\n                    this.handleDeleteDrawing(id, i)\n                  }\n                  emitFavoriteAction={(dNum: string | number, isAdd: boolean) =>\n                    this.handleFavorite(dNum, isAdd)\n                  }\n                />\n              </FavoritesContext.Provider>\n            ) : (\n              <div className={`mx-auto ${loading ? 'text-info' : ''}`}>\n                {loading ? 'LOADING' : 'No drawings yet'}...\n              </div>\n            )}\n          </div>\n          <Link className=\"btn btn-info mt-2\" to=\"/create-drawing\">\n            Create a new drawing\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MyDrawings;\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// import DrawingCard from '../../common/drawingCard';\r\nimport PageHeader from '../../common/pageHeader';\r\nimport FavoritesContext from '../../services/favoritesContext';\r\nimport {\r\n  addFavorite,\r\n  getCurrentUserDetails,\r\n  getDrawingsFromAllUsers,\r\n  removeFavorite,\r\n} from '../../services/userService';\r\nimport { FavoritesList } from './CardList';\r\n\r\nimport './styles.scss';\r\n\r\ninterface MyDrawingsState {\r\n  drawings: any[];\r\n  favorites: any[];\r\n  loading: boolean;\r\n  // [x: string]: any;\r\n}\r\n\r\nclass MyFavorites extends Component {\r\n  state: MyDrawingsState = {\r\n    drawings: [],\r\n    favorites: [],\r\n    loading: true,\r\n  };\r\n\r\n  async componentDidMount(): Promise<void> {\r\n    await this.getData();\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    this.setState = (state, callback) => {};\r\n    // ? making sure there are no data leaks\r\n  }\r\n\r\n  async getData(): Promise<void> {\r\n    try {\r\n      const {\r\n        data: { favorites },\r\n      } = await getCurrentUserDetails();\r\n\r\n      const { data } = await getDrawingsFromAllUsers(favorites);\r\n      console.log(data);\r\n\r\n      // eslint-disable-next-line @typescript-eslint/no-unused-expressions\r\n      data.length\r\n        ? this.setState({ loading: false, drawings: data, favorites })\r\n        : this.setState({ loading: false, drawings: [] });\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  handleFavorite = async (\r\n    drawingNumber: string | number,\r\n    isAdd = false\r\n  ): Promise<void> => {\r\n    const { drawings } = this.state;\r\n    try {\r\n      const { data } = isAdd\r\n        ? await addFavorite(drawingNumber)\r\n        : await removeFavorite(drawingNumber);\r\n\r\n      this.setState({\r\n        favorites: data.favorites,\r\n        drawings: [...drawings].filter(\r\n          (x) => x.drawingNumber !== drawingNumber\r\n        ),\r\n      });\r\n    } catch (error) {\r\n      // console.error(error);\r\n    }\r\n  };\r\n\r\n  render(): React.ReactNode {\r\n    const { drawings, loading, favorites } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <PageHeader titleText=\"Favorite Drawing Collection\" />\r\n        <div className=\"my-4 col-12 text-center\">\r\n          <h6>Your Favorites</h6>\r\n\r\n          <div className=\"row drawingListContainer\">\r\n            {drawings.length ? (\r\n              // path={['/:id', '/']}\r\n              <FavoritesContext.Provider value={favorites}>\r\n                <FavoritesList\r\n                  drawings={drawings}\r\n                  emitFavoriteAction={(dNum: string | number, isAdd: boolean) =>\r\n                    this.handleFavorite(dNum, isAdd)\r\n                  }\r\n                />\r\n              </FavoritesContext.Provider>\r\n            ) : (\r\n              <div className={`mx-auto ${loading ? 'text-info' : ''}`}>\r\n                {loading ? 'LOADING' : 'No favorites yet'}...\r\n              </div>\r\n            )}\r\n          </div>\r\n          {/* <Link className=\"btn btn-info mt-2\" to=\"/create-drawing\">\r\n            Create a new drawing\r\n          </Link>\r\n          // TODO: link to drawing browser\r\n          */}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyFavorites;\r\n","const Footer = (): any => (\n  <p className=\"pt-3 text-center text-white\">\n    PixelPaint <i className=\"fas fa-paint-brush\" /> App &copy;{' '}\n    {new Date().getFullYear()}\n  </p>\n);\n\nexport default Footer;\n","import { useHistory } from 'react-router-dom';\r\n\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { Menubar, MenubarProps } from 'primereact/menubar';\r\n\r\ntype MenuItem = Exclude<MenubarProps['model'], undefined>[number];\r\n\r\nconst Navbar = ({ user }: { [key: string]: any } | any): any => {\r\n  const history = useHistory();\r\n\r\n  const items = [\r\n    {\r\n      command: (event: any) => {\r\n        event.originalEvent.preventDefault();\r\n        history.push('/');\r\n      },\r\n      template: (item: MenuItem, options: any) => {\r\n        const { target } = item;\r\n        return (\r\n          <a\r\n            aria-haspopup=\"false\"\r\n            className={options.className}\r\n            href=\"/\"\r\n            onClick={options.onClick}\r\n            role=\"menuitem\"\r\n            tabIndex={0}\r\n            target={target}\r\n          >\r\n            PixelPaint <i className=\"fas fa-paint-brush\" /> App\r\n          </a>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      label: 'Home',\r\n      icon: 'pi pi-fw pi-home',\r\n      command: () => history.push('/'),\r\n    },\r\n    {\r\n      label: 'About',\r\n      icon: 'pi pi-fw pi-info-circle',\r\n      command: () => history.push('/about'),\r\n    },\r\n    {\r\n      label: 'Studio',\r\n      icon: 'pi pi-fw pi-palette',\r\n      style: { display: user ? '' : 'none' },\r\n      items: [\r\n        {\r\n          label: 'Create Drawing',\r\n          icon: 'pi pi-fw pi-image',\r\n          command: () => history.push('/create-drawing'),\r\n        },\r\n        {\r\n          label: 'My Drawings',\r\n          icon: 'pi pi-fw pi-images',\r\n          command: () => history.push('/my-drawings'),\r\n        },\r\n        {\r\n          label: 'My favorites',\r\n          icon: 'pi pi-fw pi-star',\r\n          command: () => history.push('/my-favorites'),\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      label: 'Account',\r\n      icon: 'pi pi-fw pi-user',\r\n      items: [\r\n        {\r\n          label: 'Sign In',\r\n          icon: 'pi pi-fw pi-sign-in',\r\n          style: { display: !user ? '' : 'none' },\r\n          command: () => history.push('/sign-in'),\r\n        },\r\n        {\r\n          label: 'Sign Up',\r\n          icon: 'pi pi-fw pi-user-plus',\r\n          style: { display: !user ? '' : 'none' },\r\n          command: () => history.push('/sign-up'),\r\n        },\r\n        {\r\n          label: 'Sign Up as a Painter',\r\n          icon: 'fas fa-paint-brush',\r\n          style: { display: !user?.painter ? '' : 'none', fontSize: 14 },\r\n          command: () => history.push('/painter-sign-up'),\r\n        },\r\n        {\r\n          label: 'Logout',\r\n          icon: 'pi pi-fw pi-sign-out',\r\n          style: { display: user ? '' : 'none' },\r\n          command: () => history.push('/logout'),\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const end = <InputText placeholder=\"Search\" type=\"text\" />;\r\n\r\n  return (\r\n    <div>\r\n      <Menubar end={end} model={items as any} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from 'react';\n\nimport PageHeader from '../../common/pageHeader';\n\nconst About = (): any => (\n  <div className=\"container\">\n    <PageHeader titleText=\"About PixelPaint App\" />\n    {/*           ${(<i className=\"fas fa-paint-brush\"></i>)}  */}\n    <div className=\"row\">\n      <div className=\"col-12\">\n        <p>\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta at et\n          rerum? Quisquam, voluptas autem suscipit modi repudiandae possimus,\n          commodi totam eos illo accusantium vel minima velit atque veniam\n          doloribus!\n        </p>\n      </div>\n    </div>\n  </div>\n);\n\nexport default About;\n","import PageHeader from '../../common/pageHeader';\n\nconst Home = (): any => (\n  <div className=\"container text-center\">\n    <PageHeader titleText=\"PixelPaint App Home Page\" />\n    {/*           ${(<i className=\"fas fa-paint-brush\"></i>)}  */}\n    <div className=\"row\">\n      <div className=\"col-12\">\n        <p>\n          Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta at et\n          rerum? Quisquam, voluptas autem suscipit modi repudiandae possimus,\n          commodi totam eos illo accusantium vel minima velit atque veniam\n          doloribus!\n        </p>\n      </div>\n    </div>\n  </div>\n);\n\nexport default Home;\n","import { Component } from 'react';\n\nimport { logout } from '../../services/userService';\n\nclass Logout extends Component {\n  componentDidMount(): void {\n    logout();\n    window.location.href = '/';\n  }\n\n  render(): React.ReactNode {\n    return null;\n  }\n}\n\nexport default Logout;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport Joi from 'joi';\n\nimport { Form, PageHeader } from '../../common';\nimport { apiUrl } from '../../config.json';\nimport httpService from '../../services/httpService';\nimport { getCurrentUser, login } from '../../services/userService';\n\ninterface PainterSignupState {\n  formData: {\n    name: string;\n    password: string;\n    email: string;\n  };\n  errors: any;\n}\n\nclass PainterSignup extends Form {\n  state: PainterSignupState = {\n    formData: {\n      name: '',\n      password: '',\n      email: '',\n    },\n    errors: {},\n  };\n\n  schema = {\n    email: Joi.string()\n      .required()\n      .email({ tlds: { allow: false } })\n      .min(5),\n    password: Joi.string().required().min(6),\n    name: Joi.string().required().min(2),\n  };\n\n  doSubmit = async (): Promise<void> => {\n    // eslint-disable-next-line prefer-const\n    let { errors, formData } = this.state;\n    const body = { ...formData, painter: true };\n\n    try {\n      await httpService.post(`${apiUrl}/users`, body);\n\n      const { email, password } = body;\n      await login({ email, password });\n\n      toast.success('You have successfully registered painter account!!', {\n        position: 'top-center',\n        autoClose: 2500,\n      });\n\n      setTimeout(() => {\n        window.location.href = '/create-drawing';\n      }, 2500);\n    } catch (error) {\n      if (error.response && error.response.status === 400) {\n        toast.error(error.response.data, {\n          position: 'top-center',\n          autoClose: error.response.data.length * 65,\n        });\n        errors = { name: '', password: '', email: '' };\n        errors[error.response.data.split('\"')[1]] = error.response.data;\n\n        this.setState({ errors, formData });\n      }\n    }\n  };\n\n  render(): React.ReactNode {\n    if (getCurrentUser()) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"sub-main\">\n        <PageHeader titleText=\"Painter Registration Form\" />\n        <div className=\"row text-center\">\n          <div className=\"col-12\">\n            <p>Open a new painter account</p>\n          </div>\n        </div>\n        <div className=\"mx-2\">\n          <div className=\"px-4 m-auto p-card form-container\">\n            <form\n              className=\"p-card-content\"\n              noValidate\n              onSubmit={this.handleSubmit}\n            >\n              {this.renderInput('email', 'Email', 'email')}\n              {this.renderInput('name', 'Name')}\n              {this.renderInput('password', 'Password', 'password', {\n                feedback: true,\n              })}\n              {this.renderButton('Next')}\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PainterSignup;\n","import { Redirect } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport Joi from 'joi';\n\nimport { Form, PageHeader } from '../../common';\nimport { getCurrentUser, login } from '../../services/userService';\n\ninterface SigninState {\n  formData: {\n    password: string;\n    email: string;\n  };\n  errors: { [key: string]: any };\n}\n\nclass Signin extends Form {\n  state: SigninState = {\n    formData: {\n      password: '',\n      email: '',\n    },\n    errors: {},\n  };\n\n  schema = {\n    email: Joi.string()\n      .required()\n      .email({ tlds: { allow: false } })\n      .min(5)\n      .label('Email'),\n    password: Joi.string().required().min(6).label('Password'),\n  };\n\n  componentDidMount(): void {\n    if (getCurrentUser()) return;\n    localStorage.clear();\n  }\n\n  doSubmit = async (): Promise<void> => {\n    // eslint-disable-next-line prefer-const\n    let { errors, formData } = this.state;\n\n    try {\n      await login(formData);\n      setTimeout(() => {\n        window.location.href = '/';\n      }, 2200);\n    } catch (error) {\n      if (error.response && error.response.status === 400) {\n        toast.error(error.response.data, {\n          position: 'top-center',\n          autoClose: error.response.data.length * 65,\n        });\n        errors = { name: '', password: '', email: '' };\n\n        (errors as any)[error.response.data.split('\"')[1]] =\n          error.response.data;\n\n        this.setState({ errors, formData });\n      }\n    }\n  };\n\n  render(): React.ReactNode {\n    if (getCurrentUser()) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"container sub-main\">\n        <PageHeader titleText=\"Sign in with your PixelPaint account\" />\n        <div className=\"row text-center\">\n          <div className=\"col-12\">\n            <p>You can open a new account for free</p>\n          </div>\n        </div>\n        <div className=\"mx-2\">\n          <div className=\"px-4 m-auto p-card form-container\">\n            <form\n              className=\"p-card-content\"\n              noValidate\n              onSubmit={this.handleSubmit}\n            >\n              {this.renderInput('email', 'Email', 'email')}\n              {this.renderInput('password', 'Password', 'password', {\n                feedback: false,\n              })}\n              {this.renderButton('Sign In')}\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Signin;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nimport Joi from 'joi';\n\nimport { Form, PageHeader } from '../../common';\nimport { apiUrl } from '../../config.json';\nimport httpService from '../../services/httpService';\nimport { getCurrentUser } from '../../services/userService';\n\ninterface SignupState {\n  formData: {\n    name: string;\n    password: string;\n    email: string;\n  };\n  errors: { [key: string]: any };\n}\n\nclass Signup extends Form {\n  state: SignupState = {\n    formData: {\n      name: '',\n      password: '',\n      email: '',\n    },\n    errors: {},\n  };\n\n  schema = {\n    email: Joi.string()\n      .required()\n      .email({ tlds: { allow: false } })\n      .min(5),\n    password: Joi.string().required().min(6),\n    name: Joi.string().required().min(2),\n  };\n\n  doSubmit = async (): Promise<void> => {\n    // eslint-disable-next-line prefer-const\n    let { errors, formData } = this.state;\n    const body = { ...formData, painter: false };\n\n    try {\n      await httpService.post(`${apiUrl}/users`, body);\n      (this.props as any).history.replace('/sign-in');\n      toast.success('You have successfully signed up!!', {\n        position: 'top-center',\n        autoClose: 4000,\n      });\n    } catch (error) {\n      if (error.response && error.response.status === 400) {\n        toast.error(error.response.data, {\n          position: 'top-center',\n          autoClose: error.response.data.length * 65,\n        });\n        errors = { name: '', password: '', email: '' };\n        errors[error.response.data.split('\"')[1]] = error.response.data;\n\n        this.setState({ errors, formData });\n      }\n    }\n  };\n\n  render(): React.ReactNode {\n    if (getCurrentUser()) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"container sub-main\">\n        <PageHeader titleText=\"Signup for PixelPaint App\" />\n        <div className=\"row text-center\">\n          <div className=\"col-12\">\n            <p>You can open a new account for free</p>\n          </div>\n        </div>\n        <div className=\"mx-2\">\n          <div className=\"px-4 m-auto p-card form-container\">\n            <form\n              className=\"p-card-content\"\n              noValidate\n              onSubmit={this.handleSubmit}\n            >\n              {this.renderInput('email', 'Email', 'email')}\n              {this.renderInput('name', 'Name')}\n              {this.renderInput('password', 'Password', 'password', {\n                feedback: true,\n              })}\n              {this.renderButton('Sign Up')}\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Signup;\n","import React, { Component } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\n\nimport ProtectedRoute from './common/protectedRoute';\nimport CreateDrawing from './components/drawingActions/createDrawing';\nimport EditDrawing from './components/drawingActions/editDrawing';\nimport { MyDrawings, MyFavorites } from './components/galleries';\nimport Footer from './components/layout/footer';\nimport Navbar from './components/layout/nav-bar';\nimport About from './components/pages/about';\nimport Home from './components/pages/home';\nimport Logout from './components/signAndLog/logout';\nimport PainterSignup from './components/signAndLog/painterSignup';\nimport Signin from './components/signAndLog/signin';\nimport Signup from './components/signAndLog/signup';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { getCurrentUser } from './services/userService';\n\nclass App extends Component {\n  state = { user: null };\n\n  componentDidMount(): void {\n    const user = getCurrentUser();\n    this.setState({ user });\n  }\n\n  render(): React.ReactNode {\n    const { user } = this.state;\n\n    return (\n      <div className=\"d-flex flex-column min-vh-100\">\n        <ToastContainer />\n        <header>\n          <Navbar user={user} />\n        </header>\n        <main className=\"container-fluid flex-fill\" style={{ padding: 0 }}>\n          <Switch>\n            <ProtectedRoute\n              component={EditDrawing}\n              painter=\"true\"\n              path=\"/edit/:id\"\n            />\n            <ProtectedRoute\n              component={CreateDrawing}\n              painter=\"true\"\n              path=\"/create-drawing\"\n            />\n            <ProtectedRoute\n              component={MyDrawings}\n              painter=\"true\"\n              path=\"/my-drawings\"\n            />\n            <Route component={MyFavorites} path=\"/my-favorites\" />\n            <Route component={Signup} path=\"/sign-up\" />\n            <Route component={PainterSignup} path=\"/painter-sign-up\" />\n            <Route component={Signin} path=\"/sign-in\" />\n            <Route component={Logout} path=\"/logout\" />\n            <Route component={About} path=\"/about\" />\n            <Route component={Home} exact path=\"/\" />\n            <Redirect to=\"/\" /> {/* TODO: add 404 page not found */}\n          </Switch>\n        </main>\n        <footer>\n          <Footer />\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// import { useLocation } from 'react-router-dom';\r\n\r\n// function useQuery() {\r\n//   return new URLSearchParams(useLocation().search);\r\n// }\r\n\r\nfunction PublicImages(): JSX.Element {\r\n  //   const query = useQuery();\r\n\r\n  //   const src = query.get('data');\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: '100vh',\r\n        display: 'grid',\r\n        justifyContent: 'center',\r\n        alignContent: 'center',\r\n      }}\r\n    >\r\n      {/* <img alt=\"drawing\" src={src as string} /> */}\r\n      hello\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PublicImages;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS,\n      getFCP,\n      getFID,\n      getLCP,\n      getTTFB\n    }) => {\n      getCLS(onPerfEntry);\n      getFCP(onPerfEntry);\n      getFID(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from 'react';\nimport { render } from 'react-dom';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\nimport PrimeReact from 'primereact/api';\n\nimport App from './App';\nimport PublicImages from './common/publicImages';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n// import 'jquery/dist/jquery';\n// import 'popper.js/dist/popper'; //TODO: remove if not needed\n// import 'bootstrap/dist/js/bootstrap';\n\nimport 'fontsource-roboto';\n\nimport 'primereact/resources/themes/vela-orange/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport './index.scss';\n\nPrimeReact.ripple = true;\n\nrender(\n  <StrictMode>\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route component={PublicImages} path=\"/public-images\" />\n        <Route path=\"/*\">\n          <App />\n        </Route>\n      </Switch>\n    </HashRouter>\n  </StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}