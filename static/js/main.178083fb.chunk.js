(this["webpackJsonppixel-art"]=this["webpackJsonppixel-art"]||[]).push([[0],{225:function(e,t,n){},30:function(e){e.exports=JSON.parse('{"a":"http://localhost:3002/api"}')},441:function(e,t,n){},454:function(e,t,n){},455:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(25),i=n(28),c=n(24),s=n(226),o=n.n(s),l=n(16),u=n(19),d=n(22),p=n(21),b=n(11),j=n(9),m=n(91),h=n(6),f=n.n(h),v=n(12),x=n(227),O=n(30),g=n(71),w=n.n(g),y="localData",N=function(){var e,t=localStorage.getItem(y),n=t&&JSON.parse(null!==(e=localStorage.getItem(y))&&void 0!==e?e:"null");return t&&n.token};w.a.defaults.headers.common["x-auth-token"]=N&&N(),w.a.interceptors.response.use(void 0,(function(e){if(e.response&&e.response.status>=403){b.b.error("We are sorry, but unexpected error occurred :(",{position:"top-center",autoClose:3e3})}return Promise.reject(e)}));var S={get:w.a.get,post:w.a.post,put:w.a.put,patch:w.a.patch,delete:w.a.delete},k="localData";function C(){try{var e=JSON.parse(localStorage.getItem(k)||"null");return Object(j.a)(Object(j.a)({},Object(x.a)(e.token)),{},{name:e.name})}catch(t){return null}}function D(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(f.a.mark((function e(t){var n,a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=t.password,e.next=3,S.post("".concat(O.a,"/auth"),{email:n,password:a});case 3:r=e.sent,(i=r.data).isPainter||b.b.success("Logging in...",{position:"top-center",autoClose:2e3}),localStorage.setItem(k,JSON.stringify(i));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return P.apply(this,arguments)}function P(){return(P=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem(k);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return S.get("".concat(O.a,"/users/me"))}function F(e){return S.patch("".concat(O.a,"/users/add-favorite"),{favorites:[e]})}function M(e){return S.patch("".concat(O.a,"/users/delete-favorite"),{favorites:[e]})}var E=n(1),L=function(e){var t=e.component,n=e.render,a=e.painter,r=Object(m.a)(e,["component","render","painter"]),i=C();return Object(E.jsx)(c.b,Object(j.a)(Object(j.a)({},r),{},{render:function(e){return!i||a&&!i.painter?(b.b.error(Object(E.jsxs)("p",{className:"text-center",children:["Sorry, you need a `painter` account to access this page. ",Object(E.jsx)("br",{}),"Feel free to create your own and start creating!"]}),{position:"top-center",autoClose:4e3}),Object(E.jsx)(c.a,{to:{pathname:"/sign-in",state:{from:e.location}}})):t?Object(E.jsx)(t,Object(j.a)({},e)):(null===n||void 0===n?void 0:n(e))||null}}))},U=n(101),B=n(88),q=n(23),R=n.n(q),z=n(47),_=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).schema=void 0,e.doSubmit=void 0,e.convert2image=void 0,e.handleSubmit=function(){var t=Object(v.a)(f.a.mark((function t(n){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!e.state.grid){t.next=7;break}return b.b.dark("One moment please",{position:"top-center",autoClose:2500}),t.next=5,e.convert2image();case 5:a=t.sent,e.setState({dataUrl:a});case 7:r=e.validate(),e.setState({errors:r||{}}),null!==r&&(null===r||void 0===r?void 0:r.grid)&&b.b.error("Canvas can not be blank",{position:"top-center",autoClose:2500}),r||e.doSubmit();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.validateProperty=function(t,n){var a=R.a.object(Object(U.a)({},t,e.schema[t])),r=Object(U.a)({},t,n),i=a.validate(r,{abortEarly:!1}).error;return i?i.details[0].message:null},e.validate=function(){var t=Object(B.a)(e),n=t.state.formData,a=t.schema,r=R.a.object(a).validate(n,{abortEarly:!1}).error;if(!r)return null;var i={};return r.details.forEach((function(e){var t=e.path,n=e.message;i[t[0]]=n})),i},e.handleChange=function(t){var n=t.target,a=n.value,r=n.name,i=e.state,c=i.errors,s=i.formData,o=Object(j.a)({},c)||{},l=e.validateProperty(r,a);o[r]=l;var u=Object(j.a)({},s);u[r]=a,e.setState({formData:u,errors:o})},e.renderInput=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{val:void 0},i=Object.assign({},r),c=e.state,s=c.formData,o=c.errors;return Object(E.jsx)(he,Object(j.a)({error:o&&o[t],label:n,name:t,onChange:e.handleChange,type:a,value:s[t]},i))},e}return Object(u.a)(n,[{key:"renderButton",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(E.jsx)("div",{className:"text-center",children:Object(E.jsx)(z.Button,{className:"btn-block p-button-outlined p-button-rounded",disabled:this.validate(),label:e,type:"submit"})})}}]),n}(a.Component),G=n(31),Y=n(57),J=n(234),V=n.n(J),H=n(255),W=n(229),K=n(230),Q=n(231),X=n(232),Z=n(233),$=n(493),ee=n(492),te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:35;return Array(Math.pow(e,2)).fill("").map((function(e,t){return{fill:t%2===0?"lightgrey":"white",touched:""}}))};function ne(e){return S.post("".concat(O.a,"/drawings"),e)}function ae(){return S.get("".concat(O.a,"/drawings/my-drawings"))}function re(e){try{return S.get("".concat(O.a,"/drawings/").concat(e))}catch(t){return console.error(t),t}}function ie(e){try{return S.delete("".concat(O.a,"/drawings/").concat(e))}catch(t){return console.error(t),t}}function ce(e){try{var t=e._id,n=Object(m.a)(e,["_id"]);return S.put("".concat(O.a,"/drawings/").concat(t),n)}catch(a){return console.error(a),a}}var se=function(e){var t=e.eventType,n=e.handler;return Object(a.useEffect)((function(){return t.forEach((function(e,t,a){var r=e,i=t;!0===e&&(r=a[0]),!0===n[i]&&(i=0),window.addEventListener(r,n[i])})),function(){t.forEach((function(e,t,a){var r=e,i=t;!0===e&&(r=a[0]),!0===n[i]&&(i=0),window.removeEventListener(r,n[i])}))}}),[]),null},oe=function e(){var t=this;Object(l.a)(this,e),this.drawStart=!1,this.newGrid=void 0,this.canCallBack=!1,this.callback=function(){},this.isMouseDown=!1,this.handleMouseDown=function(){t.isMouseDown=!0},this.handleMouseUp=function(){t.isMouseDown=!1,t.callback()},this.cleanup=function(){window.removeEventListener("pointerdown",t.handleMouseDown),window.removeEventListener("pointerup",t.handleMouseUp)},window.addEventListener("pointerdown",this.handleMouseDown),window.addEventListener("pointerup",this.handleMouseUp)};var le=function(e){e.preventDefault()},ue=Object(a.forwardRef)((function(e,t){var n=e.fillAction,r=e.grid,i=e.currentColor,c=e.addedStyle,s=Math.sqrt(r.length),o=Object(a.useRef)(),l=Object(a.useRef)([]),u=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"",keycode:0};o.current.drawStart=!1,o.current.canCallBack=!1,"keyup"===a.type&&13!==a.keyCode||(null===(t=o.current)||void 0===t?void 0:t.isMouseDown)||n(e)};Object(a.useEffect)((function(){o.current=new oe;var e=o.current;return e.callback=function(){e.newGrid=l.current.map((function(e){return{fill:e.style.backgroundColor,touched:e.dataset.touched}})),e.canCallBack&&u(e.newGrid)},t.current.addEventListener("touchmove",le),function(){e.callback=function(){},e.cleanup()}}),[]);var d=function(e,t){var n,a;if("pointerdown"===t.type){if(t.target.releasePointerCapture(t.pointerId),3===t.which||2===t.button)return;o.current.drawStart=!0}var r,c,d,p,b=l.current;"keydown"===t.type&&(t.keyCode>36&&t.keyCode<41&&(37===t.keyCode?null===(r=b[e-1>=0?e-1:e])||void 0===r||r.focus():38===t.keyCode?null===(c=b[e-s>=0?e-s:e])||void 0===c||c.focus():39===t.keyCode?null===(d=b[e+1>=0?e+1:e])||void 0===d||d.focus():40===t.keyCode&&(null===(p=b[e+s>=0?e+s:e])||void 0===p||p.focus()),t.preventDefault()));b[e].style.backgroundColor===i||!("pointerenter"!==t.type||(null===(n=o.current)||void 0===n?void 0:n.isMouseDown)&&(null===(a=o.current)||void 0===a?void 0:a.drawStart))||"keydown"===t.type&&13!==t.keyCode||(b[e].style.backgroundColor=i,b[e].dataset.touched||(b[e].dataset.touched="true"),o.current.canCallBack=!0,"keydown"===t.type&&u(b.map((function(e){return{fill:e.style.backgroundColor,touched:e.dataset.touched}}))))};return Object(E.jsx)("div",{className:"paintGrid",ref:t,style:{gridTemplateColumns:"repeat(".concat(s,", minmax(1px, 1fr))"),gridTemplateRows:"repeat(".concat(s,", minmax(1px, 1fr))")},children:r.map((function(e,t,n){return Object(E.jsx)("div",{"aria-label":"fill square",className:"square","data-touched":e.touched,onKeyDown:function(e){return d(t,e)},onPointerDown:function(e){return d(t,e)},onPointerEnter:function(e){return d(t,e)},ref:function(e){return a=e,0===(n=t)&&(l.current=[]),void(l.current[n]=a);var n,a},role:"button",style:Object(j.a)({backgroundColor:e.fill},c),tabIndex:0},(a=t,r=n.length,"".concat(Math.floor(a/Math.sqrt(r)),",").concat(Math.floor(a%Math.sqrt(r)))));var a,r}))})})),de=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,e)).gridRef=r,i.convert2image=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.gridRef.current,Array.from(t.children).forEach((function(e){!e.dataset.touched&&(e.style.backgroundColor="transparent"),e.style.border="none"})),t.style.minWidth="175px",t.style.minHeight="175px",t.style.width="175px",t.style.height="175px",e.abrupt("return",Object(H.a)(t,{backgroundColor:"transparent",style:{margin:"auto",width:"100%",height:"100%"},width:t.offsetWidth,height:t.offsetHeight,pixelRatio:1,skipFonts:!0}));case 7:case"end":return e.stop()}}),e)}))),i.schema={drawingName:R.a.string().min(2).max(26).required().label("Drawing Name"),description:R.a.string().min(2).max(225).required().label("Description"),grid:R.a.array().min(225).max(1225).required().label("canvas"),dataUrl:R.a.string().required().label("src")},i.validate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(B.a)(i),n=t.state,a=n.formData,r=n.grid,c=n.dataUrl,s=t.schema,o=s.drawingName,l=s.description,u=s._id,d={drawingName:o,description:l};u&&(d._id=u),r&&e?(a.grid=Object(Y.a)(r).filter((function(e){return e.touched})),d.grid=i.schema.grid,a.dataUrl=c,d.dataUrl=i.schema.dataUrl):delete a.grid&&delete a.dataUrl;var p=R.a.object(d).validate(a,{abortEarly:!1}),b=p.error;if(!b)return null;var j={};return b.details.forEach((function(e){var t=e.path,n=e.message;j[t[0]]=n})),j},i.handleFill=function(e){var t=i.state,n=t.currentStateIndex,a=t.canvasStateTimeline;i.setState({grid:e,currentStateIndex:n+1,canvasStateTimeline:[].concat(Object(Y.a)(a.slice(0,n+1)),[e]),isInitial:!1})},i.handleChangeComplete=function(e){var t=e.r,n=e.g,a=e.b;i.setState({currentColor:"rgb(".concat([t,n,a].join(", "),")")})},i.handleNumberChange=function(e){var t=+e.value;if(!(t<15||t>35)){var n=Array(Math.pow(t,2)).fill("").map((function(e,t){return{fill:t%2===0?"lightgrey":"white",touched:""}})),a=[n];i.setState({grid:n,canvasStateTimeline:a,currentStateIndex:0,isInitial:!0})}},i.handleUndo=function(){var e=i.state,t=e.canvasStateTimeline,n=e.currentStateIndex,a=e.grid;if(!(n<1)){var r=Math.sqrt(a.length),c=n-1;i.setState({grid:t[c],canvasStateTimeline:Object(Y.a)(t),currentStateIndex:c,isInitial:JSON.stringify(t[c])===JSON.stringify(te(r))})}},i.handleRedo=function(){var e=i.state,t=e.canvasStateTimeline,n=e.currentStateIndex,a=e.grid;if(n!==t.length-1){var r=Math.sqrt(a.length),c=n+1;i.setState({grid:t[c],canvasStateTimeline:Object(Y.a)(t),currentStateIndex:c,isInitial:JSON.stringify(t[c])===JSON.stringify(te(r))})}},i.handleReset=function(){if(!i.state.isInitial){var e=i.state,t=e.currentStateIndex,n=e.canvasStateTimeline,a=e.grid,r=Math.sqrt(a.length);i.setState({grid:te(r),currentStateIndex:t+1,canvasStateTimeline:[].concat(Object(Y.a)(n.slice(0,t+1)),[te(r)]),isInitial:!0})}},i.handleGridOff=function(e){var t=i.state,n=t.grid,a=t.gateKeep;if(e)i.setState({addedStyle:{border:"none"},grid:n.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{fill:e.touched?e.fill:"transparent"})})),gateKeep:!1});else if(!a){var r=i.state,c=r.currentStateIndex,s=r.canvasStateTimeline;i.setState({addedStyle:{border:"1px solid #00000065"},grid:s[c]})}},i.gridRef=Object(a.createRef)(),i}return Object(u.a)(n,[{key:"renderSizePicker",value:function(){var e=this,t=this.state.grid,n=Math.sqrt(t.length),a={step:2,min:15,max:35,value:n,format:!0,readOnly:!0};return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"p-grid p-fluid",children:Object(E.jsxs)("div",{className:" p-field p-col-12",children:[Object(E.jsx)("label",{htmlFor:"gridSize",children:"Grid Size (15x15 - 35x35)"}),Object(E.jsx)(K.InputNumber,Object(j.a)({buttonLayout:"horizontal",decrementButtonClassName:" p-button-outlined p-button-danger",decrementButtonIcon:"pi pi-minus",id:"gridSize",incrementButtonClassName:" p-button-outlined p-button-info",incrementButtonIcon:"pi pi-plus",name:"gridSize",onChange:function(t){return e.handleNumberChange(t)},showButtons:!0,suffix:"x".concat(n)},a))]})})})}},{key:"renderPaintCanvas",value:function(){var e=this,t=this.state.currentColor;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ue,{addedStyle:this.state.addedStyle,currentColor:t,fillAction:function(t){return e.handleFill(t)},grid:this.state.grid,ref:this.gridRef})})}},{key:"renderTools",value:function(){var e,t,n=this,a=new Z.Subject;a.pipe(Object($.a)(100),Object(ee.a)(1)).subscribe((function(e){n.handleChangeComplete(e)}));var r=null===this||void 0===this||null===(e=this.state)||void 0===e||null===(t=e.currentColor)||void 0===t?void 0:t.match(/[0-9]{1,3}/g),i=Object(G.a)(r,3),c=i[0],s=i[1],o=i[2],l={color:"rgb(".concat([c,s,o].join(", "),")"),filter:"drop-shadow(0 0 2px white) invert(1) grayscale(1) contrast(4)"};return Object(E.jsx)(Q.ScrollPanel,{className:"sp contain mx-auto p-card",style:{height:"58px"},children:Object(E.jsxs)("div",{className:"tools p-2",children:[Object(E.jsxs)("div",{className:"leftContents d-flex align-items-center justify-content-start",children:[Object(E.jsx)(z.Button,{"aria-label":"undo",className:"p-button-rounded p-button p-button-text",icon:"pi pi-replay",onClick:this.handleUndo}),Object(E.jsx)(z.Button,{"aria-label":"redo",className:"p-button-rounded p-button p-button-text",icon:"pi pi-refresh",onClick:this.handleRedo}),Object(E.jsxs)("div",{className:"p-float-label p-overlay-badge",children:[Object(E.jsx)(W.ColorPicker,{appendTo:this.gridRef.current,format:"rgb",onChange:function(e){var t,n=e.value;return!isNaN(n.r)&&(t=n,void a.next(t))},value:{r:c,g:s,b:o}}),Object(E.jsx)(X.Badge,{style:{backgroundColor:l.color,boxShadow:"0 0 1px 1px",filter:"drop-shadow(0 0 2px white)"}}),Object(E.jsx)("label",{className:"pi pi-palette",style:Object(j.a)({transform:"scale(1.8)"},l)})]})]}),Object(E.jsxs)("div",{className:"rightContents d-flex align-content-center justify-content-around",children:[Object(E.jsx)(z.Button,{"aria-label":"reset",className:"p-button-rounded p-button-text p-button-danger",label:"Clear",onClick:this.handleReset,children:Object(E.jsx)(V.a,{})}),Object(E.jsx)(z.Button,{"aria-label":"see results",className:"p-button-rounded p-button-text p-button-success",icon:"pi pi-eye",label:"Demo",onPointerDown:function(){return n.handleGridOff(!0)},children:Object(E.jsx)(se,{eventType:["pointerup","touchend"],handler:[function(){return n.handleGridOff(!1)},!0]})})]})]})})}}]),n}(_);n(254),n(5);var pe=n(242),be=n(133),je=n(243),me=n(244),he=function(e){var t=e.name,n=e.label,r=e.error,i=Object(m.a)(e,["name","label","error"]),c=Object(a.useState)(""),s=Object(G.a)(c,2),o=s[0],l=s[1],u=Object(E.jsx)("h6",{children:"Pick a password"}),d=Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(pe.Divider,{}),Object(E.jsx)("p",{className:"p-mt-2",children:"Requirements"}),Object(E.jsx)("div",{className:"p-pl-2 p-ml-2 p-mt-0",style:{lineHeight:"1.5"},children:Object(E.jsx)("span",{children:" - Minimum 6 characters"})})]}),p=i.feedback;return Object(E.jsxs)("div",{className:"my-4 p-fluid",children:["password"===i.type?Object(E.jsxs)("span",{className:"p-float-label p-field",children:[Object(E.jsx)(me.Password,Object(j.a)({feedback:p,footer:p&&d,header:p&&u,id:t,name:t,onInput:function(e){return l(e.target.value)},toggleMask:!0,value:o},i)),Object(E.jsx)("label",{htmlFor:t,children:n})]}):"textarea"===i.type?Object(E.jsxs)("span",{className:"p-float-label p-field",children:[Object(E.jsx)(je.InputTextarea,Object(j.a)({autoResize:!0,id:t,name:t,rows:1},i)),Object(E.jsx)("label",{htmlFor:t,style:{width:"90%"},children:n})]}):Object(E.jsxs)("span",{className:"p-float-label p-field",children:[Object(E.jsx)(be.InputText,Object(j.a)({id:t,name:t,type:"text"},i)),Object(E.jsx)("label",{htmlFor:t,style:{width:"90%"},children:n})]}),r&&Object(E.jsx)("span",{className:"text-danger",children:r})]})},fe=function(e){var t=e.titleText;return Object(E.jsx)("div",{className:"row text-center",children:Object(E.jsx)("div",{className:"col-12 mt-4",children:Object(E.jsx)("h1",{children:t})})})},ve=n(245),xe=n(487),Oe=n(490),ge=(n(441),Object(ve.a)([2,6],["#ff008c","#ccc"])),we=Object(ve.a)([0,15],[15,0]),ye=function(e){var t=e.renderInput,n=e.maxLength,r=e.label,i=e.currentValue,c=Object(a.useState)(i||""),s=Object(G.a)(c,2),o=s[0],l=s[1],u=n-o.length,d=Object(xe.a)();Object(a.useEffect)((function(){u>10||d.start({scale:1,transition:{type:"spring",velocity:we(u)}})}),[o.length]);var p=Object(E.jsxs)("div",{className:"motion-container",children:[Object(E.jsx)("div",{children:r}),!!o.length&&Object(E.jsx)("div",{children:Object(E.jsxs)(Oe.a.div,{animate:d,style:{color:ge(u),display:"inline-block"},children:["\xa0",u]})})]});return Object(E.jsx)("div",{className:"input-container",children:t({onInput:function(e){return l(e.target.value.length>n?o.substring(0,n):e.target.value)},value:o,label:p,maxLength:n})})},Ne=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={addedStyle:{border:"1px solid #00000065"},gateKeep:!0,canvasStateTimeline:[te()],currentStateIndex:0,formData:{drawingName:"",description:""},errors:{},grid:te(),currentColor:"rgb(63, 81, 181)",isInitial:!0,dataUrl:""},e.doSubmit=Object(v.a)(f.a.mark((function t(){var n,a,r,i,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.formData,r=n.grid,i=n.dataUrl,c=Object(j.a)(Object(j.a)({},a),{},{grid:r,dataUrl:i}),t.next=4,ne(c);case 4:b.b.success("A new drawing was created",{position:"top-center",autoClose:2500}),e.props.history.replace("/my-drawings");case 6:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(E.jsxs)("div",{children:[Object(E.jsx)(fe,{titleText:"Create pixel art"}),Object(E.jsxs)("div",{className:"row text-center",children:[Object(E.jsx)("div",{className:"col-12",children:Object(E.jsx)("p",{children:"Lets make a new drawing!"})}),this.renderPaintCanvas()]}),this.renderTools(),Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("div",{className:" m-auto",children:Object(E.jsx)("form",{className:"p-card",noValidate:!0,onSubmit:function(t){if(e.state.isInitial)return t.preventDefault(),void b.b.error("Canvas can not be blank",{position:"top-center",autoClose:2500});e.handleSubmit(t)},children:Object(E.jsxs)("div",{className:"p-card-content m-3",children:[this.renderSizePicker(),Object(E.jsx)(ye,{label:"Name",maxLength:26,renderInput:function(t){return e.renderInput("drawingName","","text",Object(j.a)({},t))}}),Object(E.jsx)(ye,{label:"Description",maxLength:225,renderInput:function(t){return e.renderInput("description","","textarea",Object(j.a)({},t))}}),this.renderButton("Create Drawing")]})})})})})]})}}]),n}(de),Se=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={addedStyle:{border:"1px solid #00000065"},gateKeep:!0,canvasStateTimeline:[],currentStateIndex:0,formData:{_id:"",drawingName:"",description:""},errors:{},grid:[],currentColor:"rgb(63, 81, 181)",isInitial:!1,dataUrl:""},e.mapToState=function(e){return{drawingName:e.drawingName,description:e.description,grid:e.grid,_id:e._id}},e.doSubmit=Object(v.a)(f.a.mark((function t(){var n,a,r,i,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.formData,r=n.grid,i=n.dataUrl,c=Object(j.a)(Object(j.a)({},a),{},{grid:r,dataUrl:i}),t.next=4,ce(c);case 4:b.b.success("Drawing was updated",{position:"top-center",autoClose:2500}),e.props.history.replace("/my-drawings");case 6:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,n,a,r,i,c,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.schema._id=R.a.string(),e.prev=1,e.next=4,re(this.props.match.params.id);case 4:t=e.sent,n=t.data,a=this.mapToState(n),r=a.drawingName,i=a.description,c=a.grid,s=a._id,o=c.map((function(e){return{fill:e.fill,touched:e.touched}})),this.setState({formData:{drawingName:r,description:i,_id:s},grid:o,canvasStateTimeline:[o],isInitial:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.grid,a=t.formData,r=a.drawingName,c=a.description;return a._id&&Object(E.jsxs)("div",{children:[Object(E.jsx)(fe,{titleText:"Edit drawing"}),Object(E.jsxs)("div",{className:"row text-center",children:[Object(E.jsx)("div",{className:"col-12",children:Object(E.jsx)("p",{children:"Edit your drawing"})}),n.length?this.renderPaintCanvas():Object(E.jsx)("div",{className:"m-auto text-info",children:"LOADING..."})]}),this.renderTools(),Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("div",{className:" m-auto",children:Object(E.jsx)("form",{className:"p-card",noValidate:!0,onSubmit:function(t){if(e.state.isInitial)return t.preventDefault(),void b.b.error("Canvas can not be blank",{position:"top-center",autoClose:2500});e.handleSubmit(t)},children:Object(E.jsxs)("div",{className:"p-card-content m-3",children:[this.renderSizePicker(),Object(E.jsx)(ye,{currentValue:r,label:"Name",maxLength:26,renderInput:function(t){return e.renderInput("drawingName","",void 0,Object(j.a)({},t))}}),Object(E.jsx)(ye,{currentValue:c,label:"Description",maxLength:225,renderInput:function(t){return e.renderInput("description","","textarea",Object(j.a)({},t))}}),Object(E.jsx)("div",{className:"text-center mx-5 my-3",children:Object(E.jsx)(i.b,{className:"btn btn-block btn-danger",to:"/my-drawings",children:"Cancel"})}),this.renderButton("Update Drawing")]})})})})})]})}}]),n}(de),ke=Object(a.createContext)([]),Ce=n(500),De=n(252),Ie=n(496),Ae=n(45);var Pe=n(256),Te=n(70),Fe=n(136),Me=n(491);function Ee(e,t,n){e.isAnimating()||e.start((function(a){var r=Object(Me.a)({from:t,to:n,velocity:e.getVelocity(),stiffness:400,damping:40,onUpdate:function(t){return e.set(t)},onComplete:a});return function(){return r.stop()}}))}var Le=Object(Fe.a)(Ee,100);var Ue=function(e,t,n,a,r){Object(Te.b)(e,"wheel",r&&function(e){e.preventDefault();var r=t.get(),i=r-e.deltaY,c=!1,s=n&&i>=n.top&&i<=n.bottom;n&&!s&&((i=Object(Pe.a)(r,i,.2))<n.top&&(e.deltaY<=5?(Ee(t,i,n.top),c=!0):Le(t,i,n.top)),i>n.bottom&&(e.deltaY>=-5?(Ee(t,i,n.bottom),c=!0):Le(t,i,n.bottom))),c?Le.cancel():t.set(i),a()},{passive:!1})},Be={type:"spring",stiffness:200,damping:30},qe={type:"spring",stiffness:300,damping:30},Re={zIndex:2},ze={stiffness:300,transitionEnd:{zIndex:0}},_e=Object(a.memo)((function(e){var t=e.description,n=e.painterInfo,a=n.name;return Object(E.jsxs)("div",{className:"content-container",children:[n&&Object(E.jsxs)("div",{className:"d-flex justify-content-between mx-2",children:[Object(E.jsxs)("span",{children:["By: ",a]}),Object(E.jsx)(z.Button,{className:"mx-1 p-button-rounded p-button-text p-button-lg d-inline-block",icon:"pi pi-user",label:"See profile",onClick:function(){}})]}),Object(E.jsx)("p",{children:t})]})})),Ge=function(e){var t=e.isSelected,n=e.src;return Object(E.jsx)(Oe.a.div,{animate:t?Re:ze,className:"d-card-image-container",layout:!0,children:Object(E.jsx)(Oe.a.img,{alt:"drawing thumbnail",animate:t?Re:ze,className:"d-card-image",layout:!0,loading:"lazy",onError:function(e){e.target.src="https://socialistmodernism.com/wp-content/uploads/2017/07/placeholder-image-300x225.png"},src:n})})},Ye=n(247),Je=n(488),Ve=n(497),He=n(489),We=n(250),Ke=n.n(We),Qe=n(249),Xe=n.n(Qe),Ze=n(498),$e=n(494),et=n(499),tt=n(95),nt=Object(Je.a)((function(e){return Object(Ve.a)({speedDial:{position:"absolute",bottom:e.spacing(1),right:e.spacing(2),"& .MuiSpeedDial-actions .MuiSpeedDialAction-staticTooltip .MuiSpeedDialAction-staticTooltipLabel":{width:"max-content !important"}}})}));function at(e){var t=e.emitOpen,n=e.emitClose,r=e.emitFavoriteAction,i=e.id,c=e.drawingNumber,s=e.dataUrl,o=e.history,l=e.basePath,u=nt(),d=Object(a.useState)(!1),p=Object(G.a)(d,2),j=p[0],m=p[1],h=Object(a.useContext)(ke),x=Object(Ye.a)(s),O=Object(G.a)(x,2),g=(O[0],O[1]),w=function(){n(),m(!1)},y=[{icon:Object(E.jsx)(Xe.a,{}),name:"Info",handleAction:function(){o.push("".concat(l,"/").concat(i))}},{icon:Object(E.jsx)(tt.d,{size:24}),name:"Fork",handleAction:function(){var e=Object(v.a)(f.a.mark((function e(){var t,n,a,r,c,s,l,u,d,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:if(t=e.sent,t.painter){e.next=8;break}return b.b.error(Object(E.jsxs)("p",{className:"text-center",children:["Sorry, you need a `painter` account to fork a drawing. ",Object(E.jsx)("br",{}),"Feel free to create your own and start creating!"]}),{position:"top-center",autoClose:4e3}),e.abrupt("return");case 8:return e.next=10,re(i);case 10:return n=e.sent,a=n.data,r=a.grid,c=a.dataUrl,s=a.drawingName,l=a.description,u={drawingName:"".concat(s.substring(0,15),"...(forked)"),description:"".concat(l.substring(0,214),"...(forked)"),grid:r,dataUrl:c},e.next=19,ne(u);case 19:d=e.sent,p=d.data._id,b.b.success("Drawing Forked!",{position:"top-center",autoClose:2500}),o.replace("/edit/".concat(p)),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(){return e.apply(this,arguments)}}()},{icon:h.includes(c)?Object(E.jsx)(tt.b,{size:24}):Object(E.jsx)(tt.a,{size:24}),name:h.includes(c)?"Remove from Favorites":"Save to Favorites",handleAction:function(){r(!h.includes(c)),h.includes(c)?b.b.dark("Removed from Favorites",{position:"top-center"}):b.b.success("Saved to Favorites",{position:"top-center"})}},{icon:Object(E.jsx)(Ke.a,{}),name:"Download Image",handleAction:function(){!function(e,t){var n=document.createElement("a");n.href=e,n.setAttribute("download",t),n.click()}(s,"".concat(i,".png"))}},{icon:Object(E.jsx)(tt.e,{size:24}),name:"Copy Image Link",handleAction:function(){g(),b.b.success(Object(E.jsxs)("span",{children:[Object(E.jsx)(tt.c,{className:"mr-5",size:24})," Copied to Clipboard!"]}),{position:"top-center"})}},{icon:Object(E.jsx)(He.a,{}),name:"Open in New Window",handleAction:function(){var e=new Image,t=document.createElement("div");t.setAttribute("style","height:100%;display:grid;justify-content:center;align-content:center;"),e.src=s,t.appendChild(e);var n=window.open("");null===n||void 0===n||n.document.write(t.outerHTML)}}];return Object(E.jsx)("div",{children:Object(E.jsx)(Ze.a,{ariaLabel:"SpeedDial tooltip",className:u.speedDial,direction:"up",icon:Object(E.jsx)(et.a,{}),onClose:w,onOpen:function(){t(),m(!0)},open:j,children:y.map((function(e){return Object(E.jsx)($e.a,{icon:e.icon,onClick:function(){var t;null===(t=e.handleAction)||void 0===t||t.call(e),w()},tooltipOpen:!0,tooltipPlacement:"left",tooltipTitle:e.name},e.name)}))})})}var rt=function(e){var t=e.title,n=e.isSelected;return Object(E.jsx)(Oe.a.div,{animate:n?Re:ze,className:"title-container",children:Object(E.jsx)("h2",{children:t})})},it=Object(a.memo)((function(e){var t=e.isSelected,n=e.onDelete,r=e.onFavoriteAction,s=e._id,o=e.drawingName,l=e.description,u=e.dataUrl,d=e.drawingNumber,p=e.painterInfo,b=Object(a.useState)(!1),j=Object(G.a)(b,2),m=j[0],h=j[1],f=Object(c.g)(),v=Object(De.a)(0),x=[0,t?1:0,0],O=Object(Ie.a)(v,[-500,0,500],x),g=Object(a.useRef)(null),w=function(e,t){var n=Object(a.useState)({top:0,bottom:0}),r=Object(G.a)(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){if(t){var n=e.current,a=window.innerHeight,r=n.offsetTop,i=n.offsetHeight,s=a-2*r,o=Math.min(s-i,0);c({top:o,bottom:0})}}),[t]),i}(g,t),y=n?"my-drawings":"my-favorites";function N(){var e=v.get();(e>100||e<-100)&&f.go(-1)}var S=Object(a.useRef)(null);return Ue(S,v,w,N,t),Object(E.jsxs)("li",{className:"d-card",ref:S,children:[Object(E.jsx)(Oe.a.div,{className:"overlay",style:{opacity:O,pointerEvents:t?"auto":"none"},transition:{duration:.2,delay:.1},children:Object(E.jsx)(i.b,{replace:!0,to:"/".concat(y)})}),Object(E.jsx)(Ae.a,{transition:t?Be:qe,children:Object(E.jsx)(Oe.a.div,{_dragY:v,animate:t?Re:ze,className:"d-card-content-container ".concat(t&&"open"),drag:!!t&&"y",dragConstraints:w,onDragEnd:N,ref:g,style:{y:v},children:Object(E.jsxs)(Oe.a.div,{animate:t?Re:ze,className:"d-card-content",layout:!0,children:[Object(E.jsx)(Ce.a,{open:m,style:{zIndex:1,position:"absolute"}}),Object(E.jsx)(Ge,{isSelected:t,src:u}),Object(E.jsx)(rt,{isSelected:t,title:o}),Object(E.jsx)(_e,{description:l,painterInfo:n?"":p}),n&&Object(E.jsxs)("span",{className:"p-fluid d-flex justify-content-around mx-1 my-3",children:[Object(E.jsx)(z.Button,{className:"mx-1 p-button-rounded p-button-text p-button-lg d-inline-block",icon:"pi pi-pencil",label:"Edit",onClick:function(){return f.replace("/edit/".concat(s))}}),Object(E.jsx)(z.Button,{className:"mx-1 p-button-rounded p-button-text p-button-danger p-button-lg d-inline-block",icon:"pi pi-trash",label:"Delete",onClick:function(){n(),f.replace("/my-drawings")}})]})]})})}),Object(E.jsxs)("div",{children:[!t&&Object(E.jsx)(i.b,{className:"d-card-open-link",to:"".concat(y,"/").concat(s)}),!t&&Object(E.jsx)(Oe.a.div,{animate:{opacity:1,scale:m?.85:.75},className:"speedDial-container",initial:{opacity:0,scale:.2,transformOrigin:"95%"},transition:{delay:m?0:.7,type:"spring",stiffness:150,damping:11},children:Object(E.jsx)(at,{basePath:y,dataUrl:u,drawingNumber:d,emitClose:function(){return h(!1)},emitFavoriteAction:r,emitOpen:function(){return h(!0)},history:f,id:s})})]})]})}),(function(e,t){return e.isSelected===t.isSelected})),ct=function(e){var t=e.drawings,n=e.emitDelete,r=e.emitFavoriteAction,i=Object(c.i)("/my-drawings/:id");return Object(E.jsx)("ul",{className:"d-card-list",children:t.map((function(e,t){return Object(a.createElement)(it,Object(j.a)(Object(j.a)({isSelected:(null===i||void 0===i?void 0:i.params.id)===e._id},e),{},{key:e._id,onDelete:function(){return n(e._id,t)},onFavoriteAction:function(t){return r(e.drawingNumber,t)}}))}))})},st=function(e){var t=e.drawings,n=e.emitFavoriteAction,r=Object(c.i)("/my-favorites/:id");return Object(E.jsx)("ul",{className:"d-card-list",children:t.map((function(e){return Object(a.createElement)(it,Object(j.a)(Object(j.a)({isSelected:(null===r||void 0===r?void 0:r.params.id)===e._id},e),{},{key:e._id,onFavoriteAction:function(t){n(e.drawingNumber,t)}}))}))})},ot=(n(225),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={drawings:[],favorites:[],loading:!0},e.handleDeleteDrawing=function(){var t=Object(v.a)(f.a.mark((function t(n,a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.drawings,t.prev=1,e.setState({drawings:Object(Y.a)(r).filter((function(e,t){return t!==a}))}),t.next=5,ie(n);case 5:e.getData(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),e.setState({drawings:r}),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}(),e.handleFavorite=function(){var t=Object(v.a)(f.a.mark((function t(n){var a,r,i,c=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=c.length>1&&void 0!==c[1]&&c[1],t.prev=1,!a){t.next=8;break}return t.next=5,F(n);case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,M(n);case 10:t.t0=t.sent;case 11:r=t.t0,i=r.data,e.setState({favorites:i.favorites}),t.next=18;break;case 16:t.prev=16,t.t1=t.catch(1);case 18:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"getData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae();case 3:return t=e.sent,n=t.data,e.next=7,T();case 7:a=e.sent,r=a.data.favorites,n.length?this.setState({loading:!1,drawings:n,favorites:r}):this.setState({loading:!1,drawings:[]}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.drawings,a=t.loading,r=t.favorites;return Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)(fe,{titleText:"Drawing Collection"}),Object(E.jsxs)("div",{className:"my-4 col-12 text-center",children:[Object(E.jsx)("h6",{children:"Your drawing Collection"}),Object(E.jsx)("div",{className:"row drawingListContainer",children:n.length?Object(E.jsx)(ke.Provider,{value:r,children:Object(E.jsx)(ct,{drawings:n,emitDelete:function(t,n){return e.handleDeleteDrawing(t,n)},emitFavoriteAction:function(t,n){return e.handleFavorite(t,n)}})}):Object(E.jsxs)("div",{className:"mx-auto ".concat(a?"text-info":""),children:[a?"LOADING":"No drawings yet","..."]})}),Object(E.jsx)(i.b,{className:"btn btn-info mt-2",to:"/create-drawing",children:"Create a new drawing"})]})]})}}]),n}(a.Component)),lt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={drawings:[],favorites:[],loading:!0},e.handleFavorite=function(){var t=Object(v.a)(f.a.mark((function t(n){var a,r,i,c,s=arguments;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=s.length>1&&void 0!==s[1]&&s[1],r=e.state.drawings,t.prev=2,!a){t.next=9;break}return t.next=6,F(n);case 6:t.t0=t.sent,t.next=12;break;case 9:return t.next=11,M(n);case 11:t.t0=t.sent;case 12:i=t.t0,c=i.data,e.setState({favorites:c.favorites,drawings:Object(Y.a)(r).filter((function(e){return e.drawingNumber!==n}))}),t.next=19;break;case 17:t.prev=17,t.t1=t.catch(2);case 19:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"getData",value:function(){var e=Object(v.a)(f.a.mark((function e(){var t,n,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:return t=e.sent,n=t.data.favorites,e.next=7,i=n,S.get("".concat(O.a,"/users/drawings?numbers=").concat(i.toString()));case 7:a=e.sent,r=a.data,console.log(r),r.length?this.setState({loading:!1,drawings:r,favorites:n}):this.setState({loading:!1,drawings:[]}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}var i}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.drawings,a=t.loading,r=t.favorites;return Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)(fe,{titleText:"Favorite Drawing Collection"}),Object(E.jsxs)("div",{className:"my-4 col-12 text-center",children:[Object(E.jsx)("h6",{children:"Your Favorites"}),Object(E.jsx)("div",{className:"row drawingListContainer",children:n.length?Object(E.jsx)(ke.Provider,{value:r,children:Object(E.jsx)(st,{drawings:n,emitFavoriteAction:function(t,n){return e.handleFavorite(t,n)}})}):Object(E.jsxs)("div",{className:"mx-auto ".concat(a?"text-info":""),children:[a?"LOADING":"No favorites yet","..."]})})]})]})}}]),n}(a.Component),ut=function(){return Object(E.jsxs)("p",{className:"pt-3 text-center text-white",children:["PixelPaint ",Object(E.jsx)("i",{className:"fas fa-paint-brush"})," App \xa9"," ",(new Date).getFullYear()]})},dt=n(253),pt=function(e){var t=e.user,n=Object(c.g)(),a=[{command:function(e){e.originalEvent.preventDefault(),n.push("/")},template:function(e,t){var n=e.target;return Object(E.jsxs)("a",{"aria-haspopup":"false",className:t.className,href:"/",onClick:t.onClick,role:"menuitem",tabIndex:0,target:n,children:["PixelPaint ",Object(E.jsx)("i",{className:"fas fa-paint-brush"})," App"]})}},{label:"Home",icon:"pi pi-fw pi-home",command:function(){return n.push("/")}},{label:"About",icon:"pi pi-fw pi-info-circle",command:function(){return n.push("/about")}},{label:"Studio",icon:"pi pi-fw pi-palette",style:{display:t?"":"none"},items:[{label:"Create Drawing",icon:"pi pi-fw pi-image",command:function(){return n.push("/create-drawing")}},{label:"My Drawings",icon:"pi pi-fw pi-images",command:function(){return n.push("/my-drawings")}},{label:"My favorites",icon:"pi pi-fw pi-star",command:function(){return n.push("/my-favorites")}}]},{label:"Account",icon:"pi pi-fw pi-user",items:[{label:"Sign In",icon:"pi pi-fw pi-sign-in",style:{display:t?"none":""},command:function(){return n.push("/sign-in")}},{label:"Sign Up",icon:"pi pi-fw pi-user-plus",style:{display:t?"none":""},command:function(){return n.push("/sign-up")}},{label:"Sign Up as a Painter",icon:"fas fa-paint-brush",style:{display:(null===t||void 0===t?void 0:t.painter)?"none":"",fontSize:14},command:function(){return n.push("/painter-sign-up")}},{label:"Logout",icon:"pi pi-fw pi-sign-out",style:{display:t?"":"none"},command:function(){return n.push("/logout")}}]}],r=Object(E.jsx)(be.InputText,{placeholder:"Search",type:"text"});return Object(E.jsx)("div",{children:Object(E.jsx)(dt.Menubar,{end:r,model:a})})},bt=function(){return Object(E.jsxs)("div",{className:"container",children:[Object(E.jsx)(fe,{titleText:"About PixelPaint App"}),Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("div",{className:"col-12",children:Object(E.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta at et rerum? Quisquam, voluptas autem suscipit modi repudiandae possimus, commodi totam eos illo accusantium vel minima velit atque veniam doloribus!"})})})]})},jt=function(){return Object(E.jsxs)("div",{className:"container text-center",children:[Object(E.jsx)(fe,{titleText:"PixelPaint App Home Page"}),Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("div",{className:"col-12",children:Object(E.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta at et rerum? Quisquam, voluptas autem suscipit modi repudiandae possimus, commodi totam eos illo accusantium vel minima velit atque veniam doloribus!"})})})]})},mt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){A(),window.location.href="/"}},{key:"render",value:function(){return null}}]),n}(a.Component),ht=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={formData:{name:"",password:"",email:""},errors:{}},e.schema={email:R.a.string().required().email({tlds:{allow:!1}}).min(5),password:R.a.string().required().min(6),name:R.a.string().required().min(2)},e.doSubmit=Object(v.a)(f.a.mark((function t(){var n,a,r,i,c,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.errors,r=n.formData,i=Object(j.a)(Object(j.a)({},r),{},{painter:!0}),t.prev=2,t.next=5,S.post("".concat(O.a,"/users"),i);case 5:return c=i.email,s=i.password,t.next=8,D({email:c,password:s});case 8:b.b.success("You have successfully registered painter account!!",{position:"top-center",autoClose:2500}),setTimeout((function(){window.location.href="/create-drawing"}),2500),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&(b.b.error(t.t0.response.data,{position:"top-center",autoClose:65*t.t0.response.data.length}),(a={name:"",password:"",email:""})[t.t0.response.data.split('"')[1]]=t.t0.response.data,e.setState({errors:a,formData:r}));case 15:case"end":return t.stop()}}),t,null,[[2,12]])}))),e}return Object(u.a)(n,[{key:"render",value:function(){return C()?Object(E.jsx)(c.a,{to:"/"}):Object(E.jsxs)("div",{className:"sub-main",children:[Object(E.jsx)(fe,{titleText:"Painter Registration Form"}),Object(E.jsx)("div",{className:"row text-center",children:Object(E.jsx)("div",{className:"col-12",children:Object(E.jsx)("p",{children:"Open a new painter account"})})}),Object(E.jsx)("div",{className:"mx-2",children:Object(E.jsx)("div",{className:"px-4 m-auto p-card form-container",children:Object(E.jsxs)("form",{className:"p-card-content",noValidate:!0,onSubmit:this.handleSubmit,children:[this.renderInput("email","Email","email"),this.renderInput("name","Name"),this.renderInput("password","Password","password",{feedback:!0}),this.renderButton("Next")]})})})]})}}]),n}(_),ft=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={formData:{password:"",email:""},errors:{}},e.schema={email:R.a.string().required().email({tlds:{allow:!1}}).min(5).label("Email"),password:R.a.string().required().min(6).label("Password")},e.doSubmit=Object(v.a)(f.a.mark((function t(){var n,a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.errors,r=n.formData,t.prev=1,t.next=4,D(r);case 4:setTimeout((function(){window.location.href="/"}),2200),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.response&&400===t.t0.response.status&&(b.b.error(t.t0.response.data,{position:"top-center",autoClose:65*t.t0.response.data.length}),(a={name:"",password:"",email:""})[t.t0.response.data.split('"')[1]]=t.t0.response.data,e.setState({errors:a,formData:r}));case 10:case"end":return t.stop()}}),t,null,[[1,7]])}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){C()||localStorage.clear()}},{key:"render",value:function(){return C()?Object(E.jsx)(c.a,{to:"/"}):Object(E.jsxs)("div",{className:"container sub-main",children:[Object(E.jsx)(fe,{titleText:"Sign in with your PixelPaint account"}),Object(E.jsx)("div",{className:"row text-center",children:Object(E.jsx)("div",{className:"col-12",children:Object(E.jsx)("p",{children:"You can open a new account for free"})})}),Object(E.jsx)("div",{className:"mx-2",children:Object(E.jsx)("div",{className:"px-4 m-auto p-card form-container",children:Object(E.jsxs)("form",{className:"p-card-content",noValidate:!0,onSubmit:this.handleSubmit,children:[this.renderInput("email","Email","email"),this.renderInput("password","Password","password",{feedback:!1}),this.renderButton("Sign In")]})})})]})}}]),n}(_),vt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={formData:{name:"",password:"",email:""},errors:{}},e.schema={email:R.a.string().required().email({tlds:{allow:!1}}).min(5),password:R.a.string().required().min(6),name:R.a.string().required().min(2)},e.doSubmit=Object(v.a)(f.a.mark((function t(){var n,a,r,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.errors,r=n.formData,i=Object(j.a)(Object(j.a)({},r),{},{painter:!1}),t.prev=2,t.next=5,S.post("".concat(O.a,"/users"),i);case 5:e.props.history.replace("/sign-in"),b.b.success("You have successfully signed up!!",{position:"top-center",autoClose:4e3}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&(b.b.error(t.t0.response.data,{position:"top-center",autoClose:65*t.t0.response.data.length}),(a={name:"",password:"",email:""})[t.t0.response.data.split('"')[1]]=t.t0.response.data,e.setState({errors:a,formData:r}));case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),e}return Object(u.a)(n,[{key:"render",value:function(){return C()?Object(E.jsx)(c.a,{to:"/"}):Object(E.jsxs)("div",{className:"container sub-main",children:[Object(E.jsx)(fe,{titleText:"Signup for PixelPaint App"}),Object(E.jsx)("div",{className:"row text-center",children:Object(E.jsx)("div",{className:"col-12",children:Object(E.jsx)("p",{children:"You can open a new account for free"})})}),Object(E.jsx)("div",{className:"mx-2",children:Object(E.jsx)("div",{className:"px-4 m-auto p-card form-container",children:Object(E.jsxs)("form",{className:"p-card-content",noValidate:!0,onSubmit:this.handleSubmit,children:[this.renderInput("email","Email","email"),this.renderInput("name","Name"),this.renderInput("password","Password","password",{feedback:!0}),this.renderButton("Sign Up")]})})})]})}}]),n}(_),xt=(n(447),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={user:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=C();this.setState({user:e})}},{key:"render",value:function(){var e=this.state.user;return Object(E.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[Object(E.jsx)(b.a,{}),Object(E.jsx)("header",{children:Object(E.jsx)(pt,{user:e})}),Object(E.jsx)("main",{className:"container-fluid flex-fill",style:{padding:0},children:Object(E.jsxs)(c.d,{children:[Object(E.jsx)(L,{component:Se,painter:"true",path:"/edit/:id"}),Object(E.jsx)(L,{component:Ne,painter:"true",path:"/create-drawing"}),Object(E.jsx)(L,{component:ot,painter:"true",path:"/my-drawings"}),Object(E.jsx)(c.b,{component:lt,path:"/my-favorites"}),Object(E.jsx)(c.b,{component:vt,path:"/sign-up"}),Object(E.jsx)(c.b,{component:ht,path:"/painter-sign-up"}),Object(E.jsx)(c.b,{component:ft,path:"/sign-in"}),Object(E.jsx)(c.b,{component:mt,path:"/logout"}),Object(E.jsx)(c.b,{component:bt,path:"/about"}),Object(E.jsx)(c.b,{component:jt,exact:!0,path:"/"}),Object(E.jsx)(c.a,{to:"/"})," "]})}),Object(E.jsx)("footer",{children:Object(E.jsx)(ut,{})})]})}}]),n}(a.Component));var Ot=function(){var e=new URLSearchParams(Object(c.h)().search).get("data");return Object(E.jsx)("div",{style:{height:"100vh",display:"grid",justifyContent:"center",alignContent:"center"},children:Object(E.jsx)("img",{alt:"drawing",src:e})})},gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,501)).then((function(t){var n=t.getCLS,a=t.getFCP,r=t.getFID,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};n(448),n(449),n(450),n(451),n(452),n(453),n(454);o.a.ripple=!0,Object(r.render)(Object(E.jsx)(a.StrictMode,{children:Object(E.jsx)(i.a,{basename:"/Pixel-Paint",children:Object(E.jsxs)(c.d,{children:[Object(E.jsx)(c.b,{component:Ot,path:"/public-images"}),Object(E.jsx)(c.b,{path:"/*",children:Object(E.jsx)(xt,{})})]})})}),document.getElementById("root")),gt()}},[[455,1,2]]]);
//# sourceMappingURL=main.178083fb.chunk.js.map